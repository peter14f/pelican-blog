<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>LeetCode - Peter's Coding Notes</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">




    <meta name="author" content="Peter Hsieh" />
    <meta name="keywords" content="LeetCode" />

    <!-- Open Graph tags -->
        <meta property="og:site_name" content="Peter's Coding Notes" />
        <meta property="og:type" content="website"/>
        <meta property="og:title" content="Peter's Coding Notes"/>
        <meta property="og:url" content="http://peter14f.github.io/pelican-blog"/>
        <meta property="og:description" content="Peter's Coding Notes"/>


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://peter14f.github.io/pelican-blog/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://peter14f.github.io/pelican-blog/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/style.css" type="text/css"/>

        <link href="http://peter14f.github.io/pelican-blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes ATOM Feed"/>



        <link href="http://peter14f.github.io/pelican-blog/feeds/leetcode.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes LeetCode ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://peter14f.github.io/pelican-blog/" class="navbar-brand">
Peter's Coding Notes            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="http://peter14f.github.io/pelican-blog/category/leetcode.html">Leetcode</a>
                        </li>
                        <li >
                            <a href="http://peter14f.github.io/pelican-blog/category/misc.html">Misc</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://peter14f.github.io/pelican-blog/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-lg-12">
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/129-sum_root_to_leaf_numbers.html">129-sum_root_to_leaf_numbers</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-06T16:11:00-08:00"> Dec 06 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/dfs.html">DFS</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/recursion.html">Recursion</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/binary-trees.html">Binary Trees</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/sum-root-to-leaf-numbers/">LeetCode Problem Link</a></p>
<p>The nodes in the binary tree have integer values from 0 to 9.</p>
<div class="highlight"><pre><span class="c1">// values are integers from 0 to 9 only</span>
<span class="kd">public</span> <span class="kt">int</span> <span class="nf">sumNumbers</span><span class="o">(</span><span class="n">TreeNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">root</span><span class="o">==</span><span class="kc">null</span><span class="o">)</span>
        <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>

    <span class="kt">int</span> <span class="n">curNum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">totalSum</span><span class="o">[]</span> <span class="o">=</span> <span class="o">{</span><span class="mi">0</span><span class="o">};</span>

    <span class="n">sumNumbers</span><span class="o">(</span><span class="n">root</span><span class="o">,</span> <span class="n">curNum</span><span class="o">,</span> <span class="n">totalSum</span><span class="o">);</span>

    <span class="k">return</span> <span class="n">totalSum</span><span class="o">[</span><span class="mi">0</span><span class="o">];</span>
<span class="o">}</span>

<span class="kd">private</span> <span class="kt">void</span> <span class="nf">sumNumbers</span><span class="o">(</span><span class="n">TreeNode</span> <span class="n">node</span><span class="o">,</span> <span class="kt">int</span> <span class="n">curSum</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">totalSum</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">curSum</span> <span class="o">=</span> <span class="n">curSum</span><span class="o">*</span><span class="mi">10</span> <span class="o">+</span> <span class="n">node</span><span class="o">.</span><span class="na">val</span><span class="o">;</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">left</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">node</span><span class="o">.</span><span class="na">right</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">totalSum</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">+=</span> <span class="n">curSum</span><span class="o">;</span>
        <span class="k">return</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">left</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
        <span class="n">sumNumbers</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">left</span><span class="o">,</span> <span class="n">curSum</span><span class="o">,</span> <span class="n">totalSum</span><span class="o">);</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">right</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
        <span class="n">sumNumbers</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">right</span><span class="o">,</span> <span class="n">curSum</span><span class="o">,</span> <span class="n">totalSum</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
<p>Each node is visited once so the time complexity is ...</p>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/129-sum_root_to_leaf_numbers.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/128-longest_consecutive_sequence.html">128-longest_consecutive_sequence</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-05T23:04:00-08:00"> Dec 05 2015</time>
    </span>





    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/longest-consecutive-sequence/">LeetCode Problem Link</a></p>
<p>This problem can be done using one HashSet of integers. We first insert all the numbers in the array into
the Hashset. Then as we go through each number in the int array, we use the HashSet to quickly look up if
the adjacent numbers are also in the input array. If so, we remove the number from the HashSet so that
we don't attempt to find the sequence for that number again.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="kt">int</span> <span class="nf">longestConsecutive</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">nums</span><span class="o">.</span><span class="na">length</span> <span class="o">==</span><span class="mi">0</span><span class="o">)</span>
        <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>

    <span class="n">HashSet</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">numbers</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashSet</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>

    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">nums ...</span></pre></div>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/128-longest_consecutive_sequence.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/126-word_ladder_ii.html">126-word_ladder_ii</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-05T16:39:00-08:00"> Dec 05 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/find-all-shortest-paths.html">Find All Shortest Paths</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/bfs.html">BFS</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/dfs.html">DFS</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/two-way-bfs.html">Two-Way BFS</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/word-ladder-ii/">LeetCode Problem Link</a></p>
<p>We must first perform BFS find out the length of the shortest path. While doing this, we should
save the choices at each level. When we have found the length of the shortest path and the
choices at each level, we can then perform DFS to find all shortest paths. What info do we need
when we perform the DFS? We must know the neighbors of each word at each level. Therefore, it is important
that we build the neighbors as part of the BFS. I used a HashMap&lt;String, HashSet&gt; for this. The key is string ...</p>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/126-word_ladder_ii.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/127-word_ladder.html">127-word_ladder</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-04T12:18:00-08:00"> Dec 04 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/breadth-first-search.html">Breadth First Search</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/word-ladder/">LeetCode Problem Link</a></p>
<p>This is the classic BFS problem. Words that are 1-character different from the current character and in the
dictionary are considered the current character's neighbors. We need to prevent the same word being added onto
the queue twice so a HashSet is needed. Lastly, we must keep track of the number of words on the queue for the current
level and the next level.</p>
<div class="highlight"><pre><span class="c1">// we want the shortest transformation, so we need to do a BFS</span>
<span class="kd">public</span> <span class="kt">int</span> <span class="nf">ladderLength</span><span class="o">(</span><span class="n">String</span> <span class="n">beginWord</span><span class="o">,</span> <span class="n">String</span> <span class="n">endWord</span><span class="o">,</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">wordList</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">q</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>
    <span class="n">q</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">beginWord</span><span class="o">);</span>
    <span class="kt">int ...</span></pre></div>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/127-word_ladder.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/125-valid_palindrome.html">125-valid_palindrome</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-02T22:53:00-08:00"> Dec 02 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/palindrome.html">Palindrome</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/valid-palindrome/">LeetCode Problem Link</a></p>
<p>Non-alphanumeric characters are skipped. Keep two poienters <tt class="docutils literal">i</tt> and <tt class="docutils literal">j</tt>, one that starts at
index <tt class="docutils literal">0</tt> and the other starts at index <tt class="docutils literal"><span class="pre">n-1</span></tt>.</p>
<p>It takes O(n) time.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isPalindrome</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span>
        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>

    <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">toLowerCase</span><span class="o">().</span><span class="na">trim</span><span class="o">();</span>

    <span class="kt">char</span><span class="o">[]</span> <span class="n">sArr</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">();</span>

    <span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="n">sArr</span><span class="o">.</span><span class="na">length</span><span class="o">-</span><span class="mi">1</span><span class="o">;</span>

    <span class="k">while</span> <span class="o">(</span><span class="n">i</span><span class="o">&lt;</span><span class="n">sArr</span><span class="o">.</span><span class="na">length</span><span class="o">)</span> <span class="o">{</span>

        <span class="k">if</span> <span class="o">(!</span><span class="n">isAlphaNumeric</span><span class="o">(</span><span class="n">sArr</span><span class="o">[</span><span class="n">i</span><span class="o">]))</span> <span class="o">{</span>
            <span class="n">i</span><span class="o">++;</span>
            <span class="k">continue</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">j</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">if</span> <span class="o">(!</span><span class="n">isAlphaNumeric</span><span class="o">(</span><span class="n">sArr</span><span class="o">[</span><span class="n">j</span><span class="o">]))</span> <span class="o">{</span>
            <span class="n">j</span><span class="o">--;</span>
            <span class="k">continue</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">sArr</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">!=</span> <span class="n">sArr</span><span class="o">[</span><span class="n">j</span><span class="o">])</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="n">i</span><span class="o">++;</span>
        <span class="n">j</span><span class="o">--;</span>
    <span class="o">}</span>

    <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">isAlphaNumeric</span><span class="o">(</span><span class="kt">char</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>

    <span class="k">if</span> <span class="o">((</span><span class="n">c</span> <span class="o">&gt;=</span> <span class="sc">&#39;0&#39;</span> <span class="o">&amp;&amp;</span> <span class="n">c</span> <span class="o">&lt;=</span> <span class="sc">&#39;9&#39;</span><span class="o">)</span> <span class="o">||</span> <span class="o">(</span><span class="n">c ...</span></pre></div>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/125-valid_palindrome.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/124-binary_tree_maximum_path_sum.html">124-binary_tree_maximum_path_sum</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-01T21:02:00-08:00"> Dec 01 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/recursion.html">Recursion</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/binary-trees.html">Binary Trees</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/binary-tree-maximum-path-sum/">LeetCode Problem Link</a></p>
<p>For this problem, a path must contain at least one node in the binary tree unless the</p>
<p>I want to do DFS, but we are missing the parent link. One way we could solve this problem is build a HashMap to find
the parent of a node and then perform DFS from each and every node. But this takes exponential time and will not pass
the large test case on OJ.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="kt">int</span> <span class="nf">maxPathSum</span><span class="o">(</span><span class="n">TreeNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">root</span><span class="o">==</span><span class="kc">null</span><span class="o">)</span>
        <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">root</span><span class="o">.</span><span class="na">left</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">root</span><span class="o">.</span><span class="na">right</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">root</span><span class="o">.</span><span class="na">val</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">TreeNode</span><span class="o">,</span> <span class="n">TreeNode</span><span class="o">&gt;</span> <span class="n">parents</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap ...</span></pre></div>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/124-binary_tree_maximum_path_sum.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/123-best_time_to_buy_and_sell_stock_iii.html">123-best_time_to_buy_and_sell_stock_iii</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-01T17:56:00-08:00"> Dec 01 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/dynamic-programming.html">Dynamic Programming</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/best-time-to-buysell.html">Best Time To Buy/Sell</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iii/">LeetCode Problem Link</a></p>
<p>We can make at most two transactions. That means if i goes from <tt class="docutils literal">1</tt> to <tt class="docutils literal"><span class="pre">n-2</span></tt>, we would go
through all the possible ways to partition the prices into two groups. The first group is prices[0..i]
and second group is prices[i+1, n-1].</p>
<p>So here is one way we could solve the problem. We see if making one transaction yields more profit or
any of the ways making two transactions yields more profit.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="kt">int</span> <span class="nf">maxProfit</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">prices</span><span class="o">)</span> <span class="o">{</span>

    <span class="kt">int</span> <span class="n">maxProfit</span> <span class="o">=</span> <span class="n">maxProfitOne</span><span class="o">(</span><span class="n">prices</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">prices</span><span class="o">.</span><span class="na">length</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>

    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">prices</span><span class="o">.</span><span class="na">length</span><span class="o">-</span><span class="mi">2 ...</span></pre></div>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/123-best_time_to_buy_and_sell_stock_iii.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/122-best_time_to_buy_and_sell_stock_ii.html">122-best_time_to_buy_and_sell_stock_ii</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-11-30T22:43:00-08:00"> Nov 30 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/greedy-algorithm.html">Greedy Algorithm</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/best-time-to-buysell.html">Best Time To Buy/Sell</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-ii/">LeetCode Problem Link</a></p>
<p>The problem is different from the previous problem 121-best_time_to_buy_and_sell_stock in that
we are now allowed to make multiple trades. The idea is pretty much the same.</p>
<div class="highlight"><pre><span class="c1">// multiple transactions allowed</span>
<span class="kd">public</span> <span class="kt">int</span> <span class="nf">maxProfit</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">prices</span><span class="o">)</span> <span class="o">{</span>

    <span class="kt">int</span> <span class="n">buyIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">sellIndex</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">profit</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">prices</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">prices</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">&lt;</span> <span class="n">prices</span><span class="o">[</span><span class="n">buyIndex</span><span class="o">])</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">sellIndex</span> <span class="o">&gt;</span> <span class="n">buyIndex</span><span class="o">)</span>
                <span class="n">profit</span> <span class="o">+=</span> <span class="n">prices</span><span class="o">[</span><span class="n">sellIndex</span><span class="o">]</span> <span class="o">-</span> <span class="n">prices</span><span class="o">[</span><span class="n">buyIndex</span><span class="o">];</span>

            <span class="n">buyIndex</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
            <span class="n">sellIndex</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">prices</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">&lt;</span> <span class="n">prices</span><span class="o">[</span><span class="n">sellIndex</span><span class="o">])</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">sellIndex</span> <span class="o">&gt;</span> <span class="n">buyIndex</span><span class="o">)</span>
                <span class="n">profit</span> <span class="o">+=</span> <span class="n">prices</span><span class="o">[</span><span class="n">sellIndex</span><span class="o">]</span> <span class="o">-</span> <span class="n">prices</span><span class="o">[</span><span class="n">buyIndex</span><span class="o">];</span>

            <span class="n">buyIndex</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
            <span class="n">sellIndex</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">prices</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">&gt;</span> <span class="n">prices</span><span class="o">[</span><span class="n">buyIndex</span><span class="o">])</span> <span class="o">{</span>
            <span class="n">sellIndex</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">sellIndex</span> <span class="o">&gt;</span> <span class="n">buyIndex ...</span></pre></div>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/122-best_time_to_buy_and_sell_stock_ii.html">more ...</a>
                </div>
            </article>
            <hr/>

        <ul class="pagination">
                <li class="prev"><a href="http://peter14f.github.io/pelican-blog/category/leetcode6.html">&laquo;</a>
                </li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode.html">1</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode2.html">2</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode3.html">3</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode4.html">4</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode5.html">5</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode6.html">6</a></li>
                    <li class="active"><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode7.html">7</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode8.html">8</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode9.html">9</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode10.html">10</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode11.html">11</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode12.html">12</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode13.html">13</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode14.html">14</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode15.html">15</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode16.html">16</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode17.html">17</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode18.html">18</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode19.html">19</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode20.html">20</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode21.html">21</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/category/leetcode22.html">22</a></li>
                <li class="next"><a
                        href="http://peter14f.github.io/pelican-blog/category/leetcode8.html">&raquo;</a></li>
        </ul>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 Peter Hsieh
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://peter14f.github.io/pelican-blog/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/respond.min.js"></script>


</body>
</html>