<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>337-house_robber_iii - Peter's Coding Notes</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://peter14f.github.io/pelican-blog/337-house_robber_iii.html">

        <meta name="author" content="Peter Hsieh" />
        <meta name="keywords" content="House Robber" />
        <meta name="description" content="LeetCode Problem Link At the very first glance, I thought we could use level order traversal and simply get the odd level sum and the even level sum and then return the max of the two. But it turns out that would not work. Here are two examples. Example # 1 4 / 1 / 2 / 3 Example # 2 2 / \ 1 3 \ 4 In the first example, the max profit is 7 instead 6. In the second example, the max profit is 7 as well, which involves robbing 1 house at level 1 and 1 house at level 2. We should figure out ..." />

        <meta property="og:site_name" content="Peter's Coding Notes" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="337-house_robber_iii"/>
        <meta property="og:url" content="http://peter14f.github.io/pelican-blog/337-house_robber_iii.html"/>
        <meta property="og:description" content="LeetCode Problem Link At the very first glance, I thought we could use level order traversal and simply get the odd level sum and the even level sum and then return the max of the two. But it turns out that would not work. Here are two examples. Example # 1 4 / 1 / 2 / 3 Example # 2 2 / \ 1 3 \ 4 In the first example, the max profit is 7 instead 6. In the second example, the max profit is 7 as well, which involves robbing 1 house at level 1 and 1 house at level 2. We should figure out ..."/>
        <meta property="article:published_time" content="2016-03-15" />
            <meta property="article:section" content="LeetCode" />
            <meta property="article:tag" content="House Robber" />
            <meta property="article:author" content="Peter Hsieh" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://peter14f.github.io/pelican-blog/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://peter14f.github.io/pelican-blog/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/style.css" type="text/css"/>

        <link href="http://peter14f.github.io/pelican-blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes ATOM Feed"/>



        <link href="http://peter14f.github.io/pelican-blog/feeds/leetcode.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes LeetCode ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://peter14f.github.io/pelican-blog/" class="navbar-brand">
Peter's Coding Notes            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="http://peter14f.github.io/pelican-blog/category/leetcode.html">Leetcode</a>
                        </li>
                        <li >
                            <a href="http://peter14f.github.io/pelican-blog/category/misc.html">Misc</a>
                        </li>
                        <li >
                            <a href="http://peter14f.github.io/pelican-blog/category/more-questions.html">More questions</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://peter14f.github.io/pelican-blog/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-lg-12">
    <section id="content">
        <article>
                <h2>
                    <a href="http://peter14f.github.io/pelican-blog/337-house_robber_iii.html"
                       rel="bookmark"
                       title="Permalink to 337-house_robber_iii">
                        337-house_robber_iii
                    </a>
                </h2>
            <div class="entry-content">
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2016-03-15T10:59:00-07:00"> Mar 15 2016</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/house-robber.html">House Robber</a>
    
</footer><!-- /.post-info -->                <div class="full-article">
                <p><a class="reference external" href="https://leetcode.com/problems/house-robber-iii/">LeetCode Problem Link</a></p>
<p>At the very first glance, I thought we could use level order traversal and simply get the odd level sum and the
even level sum and then return the max of the two.</p>
<p>But it turns out that would not work. Here are two examples.</p>
<pre class="literal-block">
Example # 1

      4
     /
    1
   /
  2
 /
3


Example # 2

  2
 / \
1   3
 \
  4
</pre>
<p>In the first example, the max profit is 7 instead 6.
In the second example, the max profit is 7 as well, which involves robbing 1 house at level 1 and 1 house at level 2.</p>
<p>We should figure out the max profit from the bottom of the binary tree. If we decide to rob the current node, then we
must not rob either of its child. On the other hand, if we decide not to rob the current node, then there is no
restriction whether to rob the children or not. We should there do it in the way the maximizes the profit.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="kt">int</span> <span class="nf">rob</span><span class="o">(</span><span class="n">TreeNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span><span class="o">[]</span> <span class="n">profit</span> <span class="o">=</span> <span class="n">profit</span><span class="o">(</span><span class="n">root</span><span class="o">);</span>

    <span class="k">return</span> <span class="n">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">profit</span><span class="o">[</span><span class="mi">0</span><span class="o">],</span> <span class="n">profit</span><span class="o">[</span><span class="mi">1</span><span class="o">]);</span>
<span class="o">}</span>

<span class="c1">// return profit[] which is an int array of size 2</span>
<span class="c1">// profit[0] is the max profit robbing houses in the subtree</span>
<span class="c1">// with node being the root and node is robbed</span>
<span class="c1">//</span>
<span class="c1">// profit[1] is the max profit robbing houses in the subtree</span>
<span class="c1">// with node being the root and node is NOT robbed</span>
<span class="kd">private</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">profit</span><span class="o">(</span><span class="n">TreeNode</span> <span class="n">node</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">node</span><span class="o">==</span><span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">profit</span> <span class="o">=</span> <span class="o">{</span><span class="mi">0</span><span class="o">,</span> <span class="mi">0</span><span class="o">};</span>
        <span class="k">return</span> <span class="n">profit</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kt">int</span><span class="o">[]</span> <span class="n">profit</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">2</span><span class="o">];</span>

    <span class="kt">int</span><span class="o">[]</span> <span class="n">left</span> <span class="o">=</span> <span class="n">profit</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">left</span><span class="o">);</span>
    <span class="kt">int</span><span class="o">[]</span> <span class="n">right</span> <span class="o">=</span> <span class="n">profit</span><span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">right</span><span class="o">);</span>

    <span class="c1">// rob node, but not node.left and not node.right</span>
    <span class="n">profit</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="na">val</span> <span class="o">+</span> <span class="n">left</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">+</span> <span class="n">right</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>

    <span class="c1">// not robbing node, so no restriction on whether</span>
    <span class="c1">// node.left is robbed and whether node.right is robbed</span>
    <span class="c1">// We pick the way that gives the most amount of profit</span>
    <span class="n">profit</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">left</span><span class="o">[</span><span class="mi">0</span><span class="o">],</span> <span class="n">left</span><span class="o">[</span><span class="mi">1</span><span class="o">])</span> <span class="o">+</span> <span class="n">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">right</span><span class="o">[</span><span class="mi">0</span><span class="o">],</span> <span class="n">right</span><span class="o">[</span><span class="mi">1</span><span class="o">]);</span>

    <span class="k">return</span> <span class="n">profit</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
<p>We use recursion and each node is visited once, therefore the time complexity should be O(n).
Obviously recursion comes at the cost of the O(h) space complexity.</p>

                </div>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2018 Peter Hsieh
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://peter14f.github.io/pelican-blog/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/respond.min.js"></script>


</body>
</html>