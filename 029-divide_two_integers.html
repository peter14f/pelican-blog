<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>029-divide_two_integers - Peter's Coding Notes</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://peter14f.github.io/pelican-blog/029-divide_two_integers.html">

        <meta name="author" content="Peter Hsieh" />
        <meta name="keywords" content="Division,More Practice" />
        <meta name="description" content="LeetCode Problem Link My first thought was to use subtraction. But this will be too slow for OJ. The trick is use shifting. But we are not only dividing by two. Find the largest power of 2 that the divisor can mulitply with without exceeding the dividend. One quick example: dividend is 100 and divisor is 20. 4 is the largest power of 2 that the divisor can multiply with without exceeding the dividend. 20 * 4 is 80 which is still less than the dividend. We add 4 to the quotient. And the process can be continued with the 80 ..." />

        <meta property="og:site_name" content="Peter's Coding Notes" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="029-divide_two_integers"/>
        <meta property="og:url" content="http://peter14f.github.io/pelican-blog/029-divide_two_integers.html"/>
        <meta property="og:description" content="LeetCode Problem Link My first thought was to use subtraction. But this will be too slow for OJ. The trick is use shifting. But we are not only dividing by two. Find the largest power of 2 that the divisor can mulitply with without exceeding the dividend. One quick example: dividend is 100 and divisor is 20. 4 is the largest power of 2 that the divisor can multiply with without exceeding the dividend. 20 * 4 is 80 which is still less than the dividend. We add 4 to the quotient. And the process can be continued with the 80 ..."/>
        <meta property="article:published_time" content="2015-09-27" />
            <meta property="article:section" content="LeetCode" />
            <meta property="article:tag" content="Division" />
            <meta property="article:tag" content="More Practice" />
            <meta property="article:author" content="Peter Hsieh" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://peter14f.github.io/pelican-blog/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://peter14f.github.io/pelican-blog/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/style.css" type="text/css"/>

        <link href="http://peter14f.github.io/pelican-blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes ATOM Feed"/>



        <link href="http://peter14f.github.io/pelican-blog/feeds/leetcode.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes LeetCode ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://peter14f.github.io/pelican-blog/" class="navbar-brand">
Peter's Coding Notes            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="http://peter14f.github.io/pelican-blog/category/leetcode.html">Leetcode</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://peter14f.github.io/pelican-blog/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-lg-12">
    <section id="content">
        <article>
                <h2>
                    <a href="http://peter14f.github.io/pelican-blog/029-divide_two_integers.html"
                       rel="bookmark"
                       title="Permalink to 029-divide_two_integers">
                        029-divide_two_integers
                    </a>
                </h2>
            <div class="entry-content">
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-09-27T10:41:00-07:00"> Sep 27 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/division.html">Division</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/more-practice.html">More Practice</a>
    
</footer><!-- /.post-info -->                <div class="full-article">
                <p><a class="reference external" href="https://leetcode.com/problems/divide-two-integers/">LeetCode Problem Link</a></p>
<p>My first thought was to use subtraction. But this will be too slow for OJ.</p>
<p>The trick is use shifting. But we are not only dividing by two.</p>
<p>Find the largest power of 2 that the divisor can mulitply with without exceeding the dividend.
One quick example: dividend is 100 and divisor is 20. 4 is the largest power of 2 that the divisor can multiply with
without exceeding the dividend. 20 * 4 is 80 which is still less than the dividend.</p>
<p>We add 4 to the quotient. And the process can be continued with the 80 being subtracted from the dividend.
This time the largest power of two that the divisor can multiply with without exceeding the current dividend is
1 (2<sup>0</sup> = 1). We then add 1 to the quotient. Subtracting 20 from the current dividend give us 0.
The loop stops here because the current dividend is 0 which is no longer bigger than the divisor.</p>
<p>A word on overflow. -2147483648 / -1 is the test case when overflow occurs.</p>
<p>We use long because the absolute value or the negative of -2147483648 is still -2147483648.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="kt">int</span> <span class="nf">divide</span><span class="o">(</span><span class="kt">int</span> <span class="n">dividend</span><span class="o">,</span> <span class="kt">int</span> <span class="n">divisor</span><span class="o">)</span> <span class="o">{</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">divisor</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="o">(</span><span class="s">&quot;cannot divide by zero&quot;</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">dividend</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
        <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">divisor</span> <span class="o">==</span> <span class="mi">1</span><span class="o">)</span>
        <span class="k">return</span> <span class="n">dividend</span><span class="o">;</span>

    <span class="kt">boolean</span> <span class="n">negative</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
    <span class="kt">boolean</span> <span class="n">overflow</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
    <span class="kt">long</span> <span class="n">dividendL</span> <span class="o">=</span> <span class="n">dividend</span><span class="o">;</span>
    <span class="kt">long</span> <span class="n">divisorL</span> <span class="o">=</span> <span class="n">divisor</span><span class="o">;</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">dividend</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">divisor</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">negative</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="n">dividendL</span> <span class="o">=</span> <span class="o">-</span><span class="n">dividendL</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">divisor</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">dividend</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">negative</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="n">divisorL</span> <span class="o">=</span> <span class="o">-</span><span class="n">divisorL</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">divisor</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">dividend</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">dividendL</span> <span class="o">=</span> <span class="o">-</span><span class="n">dividendL</span><span class="o">;</span>
        <span class="n">divisorL</span> <span class="o">=</span> <span class="o">-</span><span class="n">divisorL</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kt">int</span> <span class="n">quotient</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kt">long</span> <span class="n">div</span> <span class="o">=</span> <span class="n">divisorL</span><span class="o">;</span>

    <span class="k">while</span> <span class="o">(</span><span class="n">dividendL</span> <span class="o">&gt;=</span> <span class="n">div</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">mult</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">dividendL</span> <span class="o">&gt;</span> <span class="n">div</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">while</span> <span class="o">(</span><span class="n">dividendL</span> <span class="o">&gt;</span> <span class="n">div</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">div</span> <span class="o">=</span> <span class="n">div</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="o">;</span>
                <span class="n">mult</span> <span class="o">=</span> <span class="n">mult</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="n">mult</span> <span class="o">=</span> <span class="n">mult</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="o">;</span>
            <span class="n">div</span> <span class="o">=</span> <span class="n">div</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="n">quotient</span> <span class="o">+=</span> <span class="n">mult</span><span class="o">;</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">quotient</span><span class="o">==</span><span class="mi">0</span><span class="o">)</span>
            <span class="n">overflow</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>

        <span class="n">dividendL</span> <span class="o">=</span> <span class="n">dividendL</span> <span class="o">-</span> <span class="n">div</span><span class="o">;</span>
        <span class="n">div</span> <span class="o">=</span> <span class="n">divisorL</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">negative</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">overflow</span><span class="o">)</span>
            <span class="k">return</span> <span class="n">Integer</span><span class="o">.</span><span class="na">MIN_VALUE</span><span class="o">;</span>
        <span class="k">return</span> <span class="o">-</span><span class="n">quotient</span><span class="o">;</span>
    <span class="o">}</span><span class="k">else</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">overflow</span><span class="o">)</span>
            <span class="k">return</span> <span class="n">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">;</span>
        <span class="k">return</span> <span class="n">quotient</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

                </div>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2015 Peter Hsieh
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://peter14f.github.io/pelican-blog/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/respond.min.js"></script>


</body>
</html>