<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>106-construct_binary_tree_from_inorder_and_postorder_traversal - Peter's Coding Notes</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://peter14f.github.io/pelican-blog/106-construct_binary_tree_from_inorder_and_postorder_traversal.html">

        <meta name="author" content="Peter Hsieh" />
        <meta name="keywords" content="Binary Trees,Recursion" />
        <meta name="description" content="LeetCode Problem Link It&#39;s very similar to the previous problem 105-construct_binary_tree_from_preorder_and_inorder_traversal. Use recursion. postorder[pHigh] is always the root. Try to find that value in inorder. Once found, the numbers to the left belong in the left subtree and the numbers to the right belong in the right subtree. public TreeNode buildTree(int[] inorder, int[] postorder) { if (inorder.length != postorder.length) throw new IllegalArgumentException(); int n = inorder.length; if (n==0) return null; return buildTree(inorder, 0, n-1, postorder, 0, n-1); } private TreeNode buildTree(int[] inorder, int iLow, int iHigh, int[] postorder, int pLow, int pHigh) { TreeNode ..." />

        <meta property="og:site_name" content="Peter's Coding Notes" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="106-construct_binary_tree_from_inorder_and_postorder_traversal"/>
        <meta property="og:url" content="http://peter14f.github.io/pelican-blog/106-construct_binary_tree_from_inorder_and_postorder_traversal.html"/>
        <meta property="og:description" content="LeetCode Problem Link It&#39;s very similar to the previous problem 105-construct_binary_tree_from_preorder_and_inorder_traversal. Use recursion. postorder[pHigh] is always the root. Try to find that value in inorder. Once found, the numbers to the left belong in the left subtree and the numbers to the right belong in the right subtree. public TreeNode buildTree(int[] inorder, int[] postorder) { if (inorder.length != postorder.length) throw new IllegalArgumentException(); int n = inorder.length; if (n==0) return null; return buildTree(inorder, 0, n-1, postorder, 0, n-1); } private TreeNode buildTree(int[] inorder, int iLow, int iHigh, int[] postorder, int pLow, int pHigh) { TreeNode ..."/>
        <meta property="article:published_time" content="2015-11-26" />
            <meta property="article:section" content="LeetCode" />
            <meta property="article:tag" content="Binary Trees" />
            <meta property="article:tag" content="Recursion" />
            <meta property="article:author" content="Peter Hsieh" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://peter14f.github.io/pelican-blog/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://peter14f.github.io/pelican-blog/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/style.css" type="text/css"/>

        <link href="http://peter14f.github.io/pelican-blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes ATOM Feed"/>



        <link href="http://peter14f.github.io/pelican-blog/feeds/leetcode.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes LeetCode ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://peter14f.github.io/pelican-blog/" class="navbar-brand">
Peter's Coding Notes            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="http://peter14f.github.io/pelican-blog/category/leetcode.html">Leetcode</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://peter14f.github.io/pelican-blog/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-lg-12">
    <section id="content">
        <article>
                <h2>
                    <a href="http://peter14f.github.io/pelican-blog/106-construct_binary_tree_from_inorder_and_postorder_traversal.html"
                       rel="bookmark"
                       title="Permalink to 106-construct_binary_tree_from_inorder_and_postorder_traversal">
                        106-construct_binary_tree_from_inorder_and_postorder_traversal
                    </a>
                </h2>
            <div class="entry-content">
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-11-26T12:40:00-08:00"> Nov 26 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/binary-trees.html">Binary Trees</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/recursion.html">Recursion</a>
    
</footer><!-- /.post-info -->                <div class="full-article">
                <p><a class="reference external" href="https://leetcode.com/problems/maximum-depth-of-binary-tree/">LeetCode Problem Link</a></p>
<p>It's very similar to the previous problem 105-construct_binary_tree_from_preorder_and_inorder_traversal.
Use recursion. <tt class="docutils literal">postorder[pHigh]</tt> is always the root. Try to find that value in <tt class="docutils literal">inorder</tt>. Once found,
the numbers to the left belong in the left subtree and the numbers to the right belong in the right subtree.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="n">TreeNode</span> <span class="nf">buildTree</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">inorder</span><span class="o">,</span> <span class="kt">int</span><span class="o">[]</span> <span class="n">postorder</span><span class="o">)</span> <span class="o">{</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">inorder</span><span class="o">.</span><span class="na">length</span> <span class="o">!=</span> <span class="n">postorder</span><span class="o">.</span><span class="na">length</span><span class="o">)</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="o">();</span>

    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">inorder</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">n</span><span class="o">==</span><span class="mi">0</span><span class="o">)</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>

    <span class="k">return</span> <span class="n">buildTree</span><span class="o">(</span><span class="n">inorder</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">postorder</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">private</span> <span class="n">TreeNode</span> <span class="nf">buildTree</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">inorder</span><span class="o">,</span> <span class="kt">int</span> <span class="n">iLow</span><span class="o">,</span> <span class="kt">int</span> <span class="n">iHigh</span><span class="o">,</span>
                           <span class="kt">int</span><span class="o">[]</span> <span class="n">postorder</span><span class="o">,</span> <span class="kt">int</span> <span class="n">pLow</span><span class="o">,</span> <span class="kt">int</span> <span class="n">pHigh</span><span class="o">)</span> <span class="o">{</span>

    <span class="n">TreeNode</span> <span class="n">root</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TreeNode</span><span class="o">(</span><span class="n">postorder</span><span class="o">[</span><span class="n">pHigh</span><span class="o">]);</span>

    <span class="kt">int</span> <span class="n">rootIndex</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="n">iLow</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">iHigh</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">inorder</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">==</span> <span class="n">root</span><span class="o">.</span><span class="na">val</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">rootIndex</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
            <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">rootIndex</span><span class="o">==-</span><span class="mi">1</span><span class="o">)</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="n">IllegalArgumentException</span><span class="o">();</span>

    <span class="kt">int</span> <span class="n">numLeft</span> <span class="o">=</span> <span class="n">rootIndex</span> <span class="o">-</span> <span class="n">iLow</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">numLeft</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">root</span><span class="o">.</span><span class="na">left</span> <span class="o">=</span> <span class="n">buildTree</span><span class="o">(</span><span class="n">inorder</span><span class="o">,</span> <span class="n">iLow</span><span class="o">,</span> <span class="n">rootIndex</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span>
                              <span class="n">postorder</span><span class="o">,</span> <span class="n">pLow</span><span class="o">,</span> <span class="n">pLow</span><span class="o">+</span><span class="n">numLeft</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kt">int</span> <span class="n">numRight</span> <span class="o">=</span> <span class="n">iHigh</span> <span class="o">-</span> <span class="n">rootIndex</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">numRight</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">root</span><span class="o">.</span><span class="na">right</span> <span class="o">=</span> <span class="n">buildTree</span><span class="o">(</span><span class="n">inorder</span><span class="o">,</span> <span class="n">rootIndex</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span> <span class="n">iHigh</span><span class="o">,</span>
                               <span class="n">postorder</span><span class="o">,</span> <span class="n">pHigh</span><span class="o">-</span><span class="n">numRight</span><span class="o">,</span> <span class="n">pHigh</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="k">return</span> <span class="n">root</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>

                </div>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2015 Peter Hsieh
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://peter14f.github.io/pelican-blog/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/respond.min.js"></script>


</body>
</html>