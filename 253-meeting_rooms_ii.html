<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>253-meeting_rooms_ii - Peter's Coding Notes</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://peter14f.github.io/pelican-blog/253-meeting_rooms_ii.html">

        <meta name="author" content="Peter Hsieh" />
        <meta name="keywords" content="Checking Interval Overlaps,Detect Maximum Number of Overlaps,Custom Comparator" />
        <meta name="description" content="LeetCode Problem Link Again, this is very similar to the problem 218-the_skyline_problem. The most number of intervals that overlap at any given time is the minimum number of meeting rooms required. What did we do in 218-the_skyline_problem? We defined an Edge class that has a field that denotes whether it is the left edge of an interval or the right edge of an interval. The intervals in this problem does not contain a height like in 218-the_skyline_problem. But we still need a custom comparator so that we could sort the edges. In my solution, I use a Stack&lt;Edge&gt; to ..." />

        <meta property="og:site_name" content="Peter's Coding Notes" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="253-meeting_rooms_ii"/>
        <meta property="og:url" content="http://peter14f.github.io/pelican-blog/253-meeting_rooms_ii.html"/>
        <meta property="og:description" content="LeetCode Problem Link Again, this is very similar to the problem 218-the_skyline_problem. The most number of intervals that overlap at any given time is the minimum number of meeting rooms required. What did we do in 218-the_skyline_problem? We defined an Edge class that has a field that denotes whether it is the left edge of an interval or the right edge of an interval. The intervals in this problem does not contain a height like in 218-the_skyline_problem. But we still need a custom comparator so that we could sort the edges. In my solution, I use a Stack&lt;Edge&gt; to ..."/>
        <meta property="article:published_time" content="2016-02-18" />
            <meta property="article:section" content="LeetCode" />
            <meta property="article:tag" content="Checking Interval Overlaps" />
            <meta property="article:tag" content="Detect Maximum Number of Overlaps" />
            <meta property="article:tag" content="Custom Comparator" />
            <meta property="article:author" content="Peter Hsieh" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://peter14f.github.io/pelican-blog/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://peter14f.github.io/pelican-blog/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/style.css" type="text/css"/>

        <link href="http://peter14f.github.io/pelican-blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes ATOM Feed"/>



        <link href="http://peter14f.github.io/pelican-blog/feeds/leetcode.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes LeetCode ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://peter14f.github.io/pelican-blog/" class="navbar-brand">
Peter's Coding Notes            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="http://peter14f.github.io/pelican-blog/category/leetcode.html">Leetcode</a>
                        </li>
                        <li >
                            <a href="http://peter14f.github.io/pelican-blog/category/misc.html">Misc</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://peter14f.github.io/pelican-blog/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-lg-12">
    <section id="content">
        <article>
                <h2>
                    <a href="http://peter14f.github.io/pelican-blog/253-meeting_rooms_ii.html"
                       rel="bookmark"
                       title="Permalink to 253-meeting_rooms_ii">
                        253-meeting_rooms_ii
                    </a>
                </h2>
            <div class="entry-content">
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2016-02-18T00:46:00-08:00"> Feb 18 2016</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/checking-interval-overlaps.html">Checking Interval Overlaps</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/detect-maximum-number-of-overlaps.html">Detect Maximum Number of Overlaps</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/custom-comparator.html">Custom Comparator</a>
    
</footer><!-- /.post-info -->                <div class="full-article">
                <p><a class="reference external" href="https://leetcode.com/problems/meeting-rooms-ii/">LeetCode Problem Link</a></p>
<p>Again, this is very similar to the problem 218-the_skyline_problem.</p>
<p>The most number of intervals that overlap at any given time is the minimum number of meeting rooms required.</p>
<p>What did we do in 218-the_skyline_problem? We defined an Edge class that has a field that denotes whether
it is the left edge of an interval or the right edge of an interval.</p>
<p>The intervals in this problem does not contain a height like in 218-the_skyline_problem.
But we still need a custom comparator so that we could sort the edges.</p>
<p>In my solution, I use a Stack&lt;Edge&gt; to keep track the current number of overlaps. When we see a start edge, we
push is onto the stack, when we see a end edge, we pop() one start edge from the stack.</p>
<p>The overall time complexity is still O(nlogn). Notice that in the custom comparator, if two edges are at the same
time, the left edge is considered smaller than the right edge. This is make sure that intervals like [1, 2] and [2, 3]
won't be considered overlapping.</p>
<div class="highlight"><pre><span class="kd">class</span> <span class="nc">Edge</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">time</span><span class="o">;</span>
    <span class="kt">boolean</span> <span class="n">isStart</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Edge</span><span class="o">(</span><span class="kt">int</span> <span class="n">t</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">start</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">time</span> <span class="o">=</span> <span class="n">t</span><span class="o">;</span>
        <span class="n">isStart</span> <span class="o">=</span> <span class="n">start</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">EdgeComparator</span> <span class="kd">implements</span> <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Edge</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="n">Edge</span> <span class="n">o1</span><span class="o">,</span> <span class="n">Edge</span> <span class="n">o2</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">o1</span><span class="o">.</span><span class="na">time</span> <span class="o">&lt;</span> <span class="n">o2</span><span class="o">.</span><span class="na">time</span><span class="o">)</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
        <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">o1</span><span class="o">.</span><span class="na">time</span> <span class="o">&gt;</span> <span class="n">o2</span><span class="o">.</span><span class="na">time</span><span class="o">)</span>
            <span class="k">return</span> <span class="mi">1</span><span class="o">;</span>
        <span class="k">else</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">o1</span><span class="o">.</span><span class="na">isStart</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">o2</span><span class="o">.</span><span class="na">isStart</span><span class="o">)</span>
                <span class="k">return</span> <span class="mi">1</span><span class="o">;</span>
            <span class="k">else</span> <span class="k">if</span> <span class="o">(!</span><span class="n">o1</span><span class="o">.</span><span class="na">isStart</span> <span class="o">&amp;&amp;</span> <span class="n">o2</span><span class="o">.</span><span class="na">isStart</span><span class="o">)</span>
                <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
            <span class="k">else</span>
                <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kt">int</span> <span class="nf">minMeetingRooms</span><span class="o">(</span><span class="n">Interval</span><span class="o">[]</span> <span class="n">intervals</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Edge</span><span class="o">&gt;</span> <span class="n">edges</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Edge</span><span class="o">&gt;();</span>

    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">intervals</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
        <span class="n">Edge</span> <span class="n">e1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Edge</span><span class="o">(</span><span class="n">intervals</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">start</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
        <span class="n">Edge</span> <span class="n">e2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Edge</span><span class="o">(</span><span class="n">intervals</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">end</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
        <span class="n">edges</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">e1</span><span class="o">);</span>
        <span class="n">edges</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">e2</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="n">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">edges</span><span class="o">,</span> <span class="k">new</span> <span class="n">EdgeComparator</span><span class="o">());</span>

    <span class="kt">int</span> <span class="n">maxRoomNeeded</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="n">Stack</span><span class="o">&lt;</span><span class="n">Edge</span><span class="o">&gt;</span> <span class="n">rooms</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Stack</span><span class="o">&lt;</span><span class="n">Edge</span><span class="o">&gt;();</span>

    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">edges</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
        <span class="n">Edge</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">edges</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">cur</span><span class="o">.</span><span class="na">isStart</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">rooms</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">cur</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">rooms</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&gt;</span> <span class="n">maxRoomNeeded</span><span class="o">)</span>
                <span class="n">maxRoomNeeded</span> <span class="o">=</span> <span class="n">rooms</span><span class="o">.</span><span class="na">size</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">else</span> <span class="o">{</span>
            <span class="n">rooms</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="k">return</span> <span class="n">maxRoomNeeded</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
<p>Found another solution online where we don't have to create a Edge class. Instead, we simply store the start times
in one list and the end times in another. Both lists need to be sorted, and then we use two pointers <tt class="docutils literal">i</tt> and <tt class="docutils literal">j</tt> to
traverse the two lists and to decide the number of overlaps. We also don't need a custom comparator in this case since
we are just sorting Integers.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="kt">int</span> <span class="nf">minMeetingRooms</span><span class="o">(</span><span class="n">Interval</span><span class="o">[]</span> <span class="n">intervals</span><span class="o">)</span> <span class="o">{</span>

    <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">startTimes</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">endTimes</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>

    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">intervals</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
        <span class="n">startTimes</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">intervals</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">start</span><span class="o">);</span>
        <span class="n">endTimes</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">intervals</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="na">end</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="n">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">startTimes</span><span class="o">);</span>
    <span class="n">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">endTimes</span><span class="o">);</span>

    <span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>

    <span class="kt">int</span> <span class="n">maxRoomsNeeded</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">curRoomsNeeded</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="k">while</span> <span class="o">(</span><span class="n">i</span><span class="o">&lt;</span><span class="n">startTimes</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">endTimes</span><span class="o">.</span><span class="na">size</span><span class="o">())</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">startTimes</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">&lt;</span> <span class="n">endTimes</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">j</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">curRoomsNeeded</span><span class="o">++;</span>

            <span class="k">if</span> <span class="o">(</span><span class="n">curRoomsNeeded</span> <span class="o">&gt;</span> <span class="n">maxRoomsNeeded</span><span class="o">)</span>
                <span class="n">maxRoomsNeeded</span> <span class="o">=</span> <span class="n">curRoomsNeeded</span><span class="o">;</span>

            <span class="n">i</span><span class="o">++;</span>
        <span class="o">}</span>
        <span class="k">else</span> <span class="o">{</span>
            <span class="n">curRoomsNeeded</span><span class="o">--;</span>
            <span class="n">j</span><span class="o">++;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="k">return</span> <span class="n">maxRoomsNeeded</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>

                </div>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 Peter Hsieh
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://peter14f.github.io/pelican-blog/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/respond.min.js"></script>


</body>
</html>