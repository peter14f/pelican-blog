<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>300-longest_increasing_subsequence - Peter's Coding Notes</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://peter14f.github.io/pelican-blog/300-longest_increasing_subsequence.html">

        <meta name="author" content="Peter Hsieh" />
        <meta name="keywords" content="Subsequence,Dynamic Programming,Memoization" />
        <meta name="description" content="LeetCode Problem Link Input array is not sorted. We need to return the length of the longest subsequence. Got to remember that the definition of a subsequence is the remaining numbers in the array when some elements of the array is taken out. At the beginning, I thought the straightforward solution is to start looking for a increasing subsequence from each element. But this won&#39;t actually be O(n 2) time. Since ith element could either be in the subsequence or not be in the subsequence. This is exponential time. One way would be to generate all possible subsequence ..." />

        <meta property="og:site_name" content="Peter's Coding Notes" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="300-longest_increasing_subsequence"/>
        <meta property="og:url" content="http://peter14f.github.io/pelican-blog/300-longest_increasing_subsequence.html"/>
        <meta property="og:description" content="LeetCode Problem Link Input array is not sorted. We need to return the length of the longest subsequence. Got to remember that the definition of a subsequence is the remaining numbers in the array when some elements of the array is taken out. At the beginning, I thought the straightforward solution is to start looking for a increasing subsequence from each element. But this won&#39;t actually be O(n 2) time. Since ith element could either be in the subsequence or not be in the subsequence. This is exponential time. One way would be to generate all possible subsequence ..."/>
        <meta property="article:published_time" content="2016-02-23" />
            <meta property="article:section" content="LeetCode" />
            <meta property="article:tag" content="Subsequence" />
            <meta property="article:tag" content="Dynamic Programming" />
            <meta property="article:tag" content="Memoization" />
            <meta property="article:author" content="Peter Hsieh" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://peter14f.github.io/pelican-blog/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://peter14f.github.io/pelican-blog/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/style.css" type="text/css"/>

        <link href="http://peter14f.github.io/pelican-blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes ATOM Feed"/>



        <link href="http://peter14f.github.io/pelican-blog/feeds/leetcode.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes LeetCode ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://peter14f.github.io/pelican-blog/" class="navbar-brand">
Peter's Coding Notes            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li >
                            <a href="http://peter14f.github.io/pelican-blog/category/data-structures.html">Data structures</a>
                        </li>
                        <li >
                            <a href="http://peter14f.github.io/pelican-blog/category/java.html">Java</a>
                        </li>
                        <li class="active">
                            <a href="http://peter14f.github.io/pelican-blog/category/leetcode.html">Leetcode</a>
                        </li>
                        <li >
                            <a href="http://peter14f.github.io/pelican-blog/category/misc.html">Misc</a>
                        </li>
                        <li >
                            <a href="http://peter14f.github.io/pelican-blog/category/more-questions.html">More questions</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://peter14f.github.io/pelican-blog/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-lg-12">
    <section id="content">
        <article>
                <h2>
                    <a href="http://peter14f.github.io/pelican-blog/300-longest_increasing_subsequence.html"
                       rel="bookmark"
                       title="Permalink to 300-longest_increasing_subsequence">
                        300-longest_increasing_subsequence
                    </a>
                </h2>
            <div class="entry-content">
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2016-02-23T12:47:00-08:00"> Feb 23 2016</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/subsequence.html">Subsequence</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/dynamic-programming.html">Dynamic Programming</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/memoization.html">Memoization</a>
    
</footer><!-- /.post-info -->                <div class="full-article">
                <p><a class="reference external" href="https://leetcode.com/problems/longest-increasing-subsequence/">LeetCode Problem Link</a></p>
<p>Input array is not sorted. We need to return the length of the longest subsequence.</p>
<p>Got to remember that the definition of a subsequence is the remaining numbers in the array when some elements of
the array is taken out.</p>
<p>At the beginning, I thought the straightforward solution is to start looking for a increasing subsequence from each
element. But this won't actually be O(n <sup>2</sup>) time. Since ith element could either be in the subsequence
or not be in the subsequence. This is exponential time. One way would be to generate all possible subsequence and check
each of them is the elements are strictly increasing.</p>
<p>But we can achieve O(n <sup>2</sup>) time using dynamic programming. Let's define a int array of size <tt class="docutils literal">n+1</tt>
called <tt class="docutils literal">lenSubseqEnding</tt>.</p>
<p><tt class="docutils literal">lenSubseqEnding[i]</tt> is the length of th longest subsequence ending with the ith number.</p>
<pre class="literal-block">
i=1 the 1st number in ``nums`` (nums[0])
i=2 the 2nd number in ``nums`` (nums[1])
...
</pre>
<p>So how do fill out <tt class="docutils literal">lenSubseqEnding[i]</tt> given that the entries at index smaller than <tt class="docutils literal">i</tt> are all filled out?</p>
<p>we have to check the longest length of subsequence ending at all characters j &lt; i and if the ith number is greater than
the jth number, then <tt class="docutils literal">lenSubseqEnding[j] + 1</tt> could be potentially the longest length of subsequence ending at ith
character because we can append ith character to the subsequence ending at jth character.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="kt">int</span> <span class="nf">lengthOfLIS</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">n</span><span class="o">==</span><span class="mi">0</span><span class="o">)</span>
        <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>

    <span class="cm">/* here ith character</span>
<span class="cm">     *</span>
<span class="cm">     * i=1 -&gt; 1st number -&gt; nums[0]</span>
<span class="cm">     * i=2 -&gt; 2nd number -&gt; nums[1]</span>
<span class="cm">     *</span>
<span class="cm">     * length of the longest subsequence ending with ith character</span>
<span class="cm">     *</span>
<span class="cm">     */</span>
    <span class="kt">int</span><span class="o">[]</span> <span class="n">lenSubseqEnding</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="o">];</span>

    <span class="n">lenSubseqEnding</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="n">lenSubseqEnding</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>

    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">2</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
        <span class="c1">// initialize to 1 since in the worst case the subsequence</span>
        <span class="c1">// contains the ith character only</span>
        <span class="n">lenSubseqEnding</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>

        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">i</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">]</span> <span class="o">&gt;</span> <span class="n">nums</span><span class="o">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="o">])</span> <span class="o">{</span>
                <span class="n">lenSubseqEnding</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">lenSubseqEnding</span><span class="o">[</span><span class="n">i</span><span class="o">],</span> <span class="n">lenSubseqEnding</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="c1">// else ith number not larger than jth number,</span>
            <span class="c1">// cannot append ith num to this subsequence</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="n">ans</span><span class="o">,</span> <span class="n">lenSubseqEnding</span><span class="o">[</span><span class="n">i</span><span class="o">]);</span>
    <span class="o">}</span>

    <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>

                </div>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2018 Peter Hsieh
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://peter14f.github.io/pelican-blog/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/respond.min.js"></script>


</body>
</html>