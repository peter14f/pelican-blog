<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>331-verify_preorder_serialization_of_a_binary_tree - Peter's Coding Notes</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://peter14f.github.io/pelican-blog/331-verify_preorder_serialization_of_a_binary_tree.html">

        <meta name="author" content="Peter Hsieh" />
        <meta name="keywords" content="Preorder Traversals" />
        <meta name="description" content="LeetCode Problem Link The first method relies on the observation that in a preorder sequence, a leaf node always results in x, #, #. For any given binary tree, you should always be able to continue removing the existing leaf nodes until you obtain an empty tree. So what we can do is keep replace x, #, # with # and see if we end up with #. An example a / \ b c [a, b, #, #, c, #, #] [a, #, c, #, #] [a, #, #] [#] public boolean isValidSerialization(String preorder) { // 1234 //&#34;x,#,#&#34; boolean foundLeaf = false; while (true) { //System.out.println(preorder); for (int i=1; i&lt; preorder.length(); i++) { //System.out.println ..." />

        <meta property="og:site_name" content="Peter's Coding Notes" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="331-verify_preorder_serialization_of_a_binary_tree"/>
        <meta property="og:url" content="http://peter14f.github.io/pelican-blog/331-verify_preorder_serialization_of_a_binary_tree.html"/>
        <meta property="og:description" content="LeetCode Problem Link The first method relies on the observation that in a preorder sequence, a leaf node always results in x, #, #. For any given binary tree, you should always be able to continue removing the existing leaf nodes until you obtain an empty tree. So what we can do is keep replace x, #, # with # and see if we end up with #. An example a / \ b c [a, b, #, #, c, #, #] [a, #, c, #, #] [a, #, #] [#] public boolean isValidSerialization(String preorder) { // 1234 //&#34;x,#,#&#34; boolean foundLeaf = false; while (true) { //System.out.println(preorder); for (int i=1; i&lt; preorder.length(); i++) { //System.out.println ..."/>
        <meta property="article:published_time" content="2016-02-28" />
            <meta property="article:section" content="LeetCode" />
            <meta property="article:tag" content="Preorder Traversals" />
            <meta property="article:author" content="Peter Hsieh" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://peter14f.github.io/pelican-blog/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://peter14f.github.io/pelican-blog/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/style.css" type="text/css"/>

        <link href="http://peter14f.github.io/pelican-blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes ATOM Feed"/>



        <link href="http://peter14f.github.io/pelican-blog/feeds/leetcode.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes LeetCode ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://peter14f.github.io/pelican-blog/" class="navbar-brand">
Peter's Coding Notes            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="http://peter14f.github.io/pelican-blog/category/leetcode.html">Leetcode</a>
                        </li>
                        <li >
                            <a href="http://peter14f.github.io/pelican-blog/category/misc.html">Misc</a>
                        </li>
                        <li >
                            <a href="http://peter14f.github.io/pelican-blog/category/more-questions.html">More questions</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://peter14f.github.io/pelican-blog/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-lg-12">
    <section id="content">
        <article>
                <h2>
                    <a href="http://peter14f.github.io/pelican-blog/331-verify_preorder_serialization_of_a_binary_tree.html"
                       rel="bookmark"
                       title="Permalink to 331-verify_preorder_serialization_of_a_binary_tree">
                        331-verify_preorder_serialization_of_a_binary_tree
                    </a>
                </h2>
            <div class="entry-content">
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2016-02-28T21:29:00-08:00"> Feb 28 2016</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/preorder-traversals.html">Preorder Traversals</a>
    
</footer><!-- /.post-info -->                <div class="full-article">
                <p><a class="reference external" href="https://leetcode.com/problems/verify-preorder-serialization-of-a-binary-tree/">LeetCode Problem Link</a></p>
<p>The first method relies on the observation that in a preorder sequence, a leaf node always results in
<tt class="docutils literal">x, #, #</tt>. For any given binary tree, you should always be able to continue removing the
existing leaf nodes until you obtain an empty tree.</p>
<p>So what we can do is keep replace <tt class="docutils literal">x, #, #</tt> with <tt class="docutils literal">#</tt> and see if we end up with <tt class="docutils literal">#</tt>.</p>
<p>An example</p>
<pre class="literal-block">
    a
   / \
  b   c


[a, b, #, #, c, #, #]
[a, #, c, #, #]
[a, #, #]
[#]
</pre>
<div class="highlight"><pre><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isValidSerialization</span><span class="o">(</span><span class="n">String</span> <span class="n">preorder</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">//  1234</span>
    <span class="c1">//&quot;x,#,#&quot;</span>


    <span class="kt">boolean</span> <span class="n">foundLeaf</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
    <span class="k">while</span> <span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//System.out.println(preorder);</span>

        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span> <span class="n">preorder</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="c1">//System.out.println(&quot; i=&quot; + i + &quot; &quot; + preorder.substring(i, i+4));</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">&lt;=</span> <span class="n">preorder</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&amp;&amp;</span>
                    <span class="n">preorder</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">4</span><span class="o">).</span><span class="na">equals</span><span class="o">(</span><span class="s">&quot;,#,#&quot;</span><span class="o">))</span> <span class="o">{</span>

                <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">;</span>

                <span class="k">while</span> <span class="o">(</span><span class="n">j</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">preorder</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">j</span><span class="o">)</span> <span class="o">!=</span> <span class="sc">&#39;,&#39;</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">j</span><span class="o">--;</span>
                <span class="o">}</span>

                <span class="n">j</span><span class="o">=</span> <span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="o">;</span>

                <span class="n">preorder</span> <span class="o">=</span>  <span class="n">preorder</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="n">j</span><span class="o">)</span> <span class="o">+</span> <span class="s">&quot;#&quot;</span> <span class="o">+</span> <span class="n">preorder</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">i</span><span class="o">+</span><span class="mi">4</span><span class="o">);</span>
                <span class="n">foundLeaf</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">foundLeaf</span> <span class="o">==</span> <span class="kc">false</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">preorder</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="n">preorder</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&quot;#&quot;</span><span class="o">))</span>
                <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
            <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">else</span> <span class="o">{</span>
            <span class="n">foundLeaf</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">// reset to false</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>

                </div>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 Peter Hsieh
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://peter14f.github.io/pelican-blog/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/respond.min.js"></script>


</body>
</html>