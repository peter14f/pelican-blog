<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>040-combination_sum_ii - Peter's Coding Notes</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://peter14f.github.io/pelican-blog/040-combination_sum_ii.html">

        <meta name="author" content="Peter Hsieh" />
        <meta name="keywords" content="DFS,NP,Duplicates" />
        <meta name="description" content="LeetCode Problem Link Unlike 040-combination_sum, candidates can have duplicates. So the tricky part is to make sure that we do not have duplicates in the answer. For example, candidates={1, 1, 1, 2} and target=3. We want to make sure ans={{1, 1, 1}, {1, 2}} In other words, {1, 2} occurs only once in the answer. How do we do this? In the code path where we are NOT including the current number in the workingList, we will skip all the following indices that also have the same number as the current number. public List&lt;List&lt;Integer&gt;&gt; combinationSum2 ..." />

        <meta property="og:site_name" content="Peter's Coding Notes" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="040-combination_sum_ii"/>
        <meta property="og:url" content="http://peter14f.github.io/pelican-blog/040-combination_sum_ii.html"/>
        <meta property="og:description" content="LeetCode Problem Link Unlike 040-combination_sum, candidates can have duplicates. So the tricky part is to make sure that we do not have duplicates in the answer. For example, candidates={1, 1, 1, 2} and target=3. We want to make sure ans={{1, 1, 1}, {1, 2}} In other words, {1, 2} occurs only once in the answer. How do we do this? In the code path where we are NOT including the current number in the workingList, we will skip all the following indices that also have the same number as the current number. public List&lt;List&lt;Integer&gt;&gt; combinationSum2 ..."/>
        <meta property="article:published_time" content="2015-09-27" />
            <meta property="article:section" content="LeetCode" />
            <meta property="article:tag" content="DFS" />
            <meta property="article:tag" content="NP" />
            <meta property="article:tag" content="Duplicates" />
            <meta property="article:author" content="Peter Hsieh" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://peter14f.github.io/pelican-blog/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://peter14f.github.io/pelican-blog/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/style.css" type="text/css"/>

        <link href="http://peter14f.github.io/pelican-blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes ATOM Feed"/>



        <link href="http://peter14f.github.io/pelican-blog/feeds/leetcode.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes LeetCode ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://peter14f.github.io/pelican-blog/" class="navbar-brand">
Peter's Coding Notes            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="http://peter14f.github.io/pelican-blog/category/leetcode.html">Leetcode</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://peter14f.github.io/pelican-blog/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-lg-12">
    <section id="content">
        <article>
                <h2>
                    <a href="http://peter14f.github.io/pelican-blog/040-combination_sum_ii.html"
                       rel="bookmark"
                       title="Permalink to 040-combination_sum_ii">
                        040-combination_sum_ii
                    </a>
                </h2>
            <div class="entry-content">
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-09-27T11:04:00-07:00"> Sep 27 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/dfs.html">DFS</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/np.html">NP</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/duplicates.html">Duplicates</a>
    
</footer><!-- /.post-info -->                <div class="full-article">
                <p><a class="reference external" href="https://leetcode.com/problems/combination-sum-ii/">LeetCode Problem Link</a></p>
<p>Unlike <strong>040-combination_sum</strong>, <tt class="docutils literal">candidates</tt> can have duplicates.</p>
<p>So the tricky part is to make sure that we do not have duplicates in the answer.</p>
<p>For example, <tt class="docutils literal"><span class="pre">candidates={1,</span> 1, 1, 2}</tt> and <tt class="docutils literal">target=3</tt>.</p>
<p>We want to make sure <tt class="docutils literal"><span class="pre">ans={{1,</span> 1, 1}, {1, 2}}</tt></p>
<p>In other words, <tt class="docutils literal">{1, 2}</tt> occurs only once in the answer.</p>
<p>How do we do this?</p>
<p>In the code path where we are NOT including the current number in
the <tt class="docutils literal">workingList</tt>, we will skip all the following indices that
also have the same number as the current number.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;&gt;</span> <span class="nf">combinationSum2</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">candidates</span><span class="o">,</span> <span class="kt">int</span> <span class="n">target</span><span class="o">)</span> <span class="o">{</span>

    <span class="n">List</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;&gt;</span> <span class="n">ans</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;&gt;();</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">workingList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>
    <span class="kt">int</span> <span class="n">curSum</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="n">Arrays</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">candidates</span><span class="o">);</span>
    <span class="n">combinationSum2</span><span class="o">(</span><span class="n">candidates</span><span class="o">,</span> <span class="n">target</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">workingList</span><span class="o">,</span> <span class="n">curSum</span><span class="o">,</span> <span class="n">ans</span><span class="o">);</span>

    <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">private</span> <span class="kt">void</span> <span class="nf">combinationSum2</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">candidates</span><span class="o">,</span> <span class="kt">int</span> <span class="n">target</span><span class="o">,</span> <span class="kt">int</span> <span class="n">index</span><span class="o">,</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">workingList</span><span class="o">,</span>
                             <span class="kt">int</span> <span class="n">curSum</span><span class="o">,</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;&gt;</span> <span class="n">ans</span><span class="o">)</span> <span class="o">{</span>

    <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="n">candidates</span><span class="o">[</span><span class="n">index</span><span class="o">];</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">curSum</span> <span class="o">+</span> <span class="n">num</span> <span class="o">==</span> <span class="n">target</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">workingList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">num</span><span class="o">);</span>
        <span class="n">ans</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;(</span><span class="n">workingList</span><span class="o">));</span>
        <span class="n">workingList</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">workingList</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="o">(</span><span class="n">curSum</span> <span class="o">+</span> <span class="n">num</span> <span class="o">&lt;</span> <span class="n">target</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// choose not to include num</span>
        <span class="kt">int</span> <span class="n">d</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>

        <span class="k">while</span> <span class="o">(</span><span class="n">index</span> <span class="o">+</span> <span class="n">d</span> <span class="o">&lt;</span> <span class="n">candidates</span><span class="o">.</span><span class="na">length</span> <span class="o">&amp;&amp;</span> <span class="n">candidates</span><span class="o">[</span><span class="n">index</span><span class="o">+</span><span class="n">d</span><span class="o">]</span> <span class="o">==</span> <span class="n">num</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">d</span><span class="o">++;</span>
        <span class="o">}</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">index</span> <span class="o">+</span> <span class="n">d</span> <span class="o">&lt;</span> <span class="n">candidates</span><span class="o">.</span><span class="na">length</span><span class="o">)</span>
            <span class="n">combinationSum2</span><span class="o">(</span><span class="n">candidates</span><span class="o">,</span> <span class="n">target</span><span class="o">,</span> <span class="n">index</span> <span class="o">+</span> <span class="n">d</span><span class="o">,</span> <span class="n">workingList</span><span class="o">,</span> <span class="n">curSum</span><span class="o">,</span> <span class="n">ans</span><span class="o">);</span>

        <span class="c1">// include num</span>
        <span class="n">workingList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">num</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">candidates</span><span class="o">.</span><span class="na">length</span><span class="o">)</span>
            <span class="n">combinationSum2</span><span class="o">(</span><span class="n">candidates</span><span class="o">,</span> <span class="n">target</span><span class="o">,</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">workingList</span><span class="o">,</span> <span class="n">curSum</span> <span class="o">+</span> <span class="n">num</span><span class="o">,</span> <span class="n">ans</span><span class="o">);</span>
        <span class="n">workingList</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">workingList</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">-</span> <span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

                </div>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2015 Peter Hsieh
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://peter14f.github.io/pelican-blog/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/respond.min.js"></script>


</body>
</html>