<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Peter's Coding Notes</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://peter14f.github.io/pelican-blog">
        <meta name="author" content="Peter Hsieh" />

    <!-- Open Graph tags -->
        <meta property="og:site_name" content="Peter's Coding Notes" />
        <meta property="og:type" content="website"/>
        <meta property="og:title" content="Peter's Coding Notes"/>
        <meta property="og:url" content="http://peter14f.github.io/pelican-blog"/>
        <meta property="og:description" content="Peter's Coding Notes"/>


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://peter14f.github.io/pelican-blog/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://peter14f.github.io/pelican-blog/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/style.css" type="text/css"/>

        <link href="http://peter14f.github.io/pelican-blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes ATOM Feed"/>




</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://peter14f.github.io/pelican-blog/" class="navbar-brand">
Peter's Coding Notes            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li >
                            <a href="http://peter14f.github.io/pelican-blog/category/leetcode.html">Leetcode</a>
                        </li>
                        <li >
                            <a href="http://peter14f.github.io/pelican-blog/category/misc.html">Misc</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://peter14f.github.io/pelican-blog/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-lg-12">
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/144-binary_tree_preorder_traversal.html">144-binary_tree_preorder_traversal</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-14T19:48:00-08:00"> Dec 14 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/binary-trees.html">Binary Trees</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/binary-tree-traversals.html">Binary Tree Traversals</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/preorder-traversal.html">Preorder Traversal</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/morris-traversal.html">Morris Traversal</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/binary-tree-preorder-traversal/">LeetCode Problem Link</a></p>
<p>Here is the solution using a Stack. It is O(n) space complexity. In the worst case, the binary tree is a linked list.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="nf">preorderTraversal</span><span class="o">(</span><span class="n">TreeNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">nodes</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>

    <span class="n">TreeNode</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">root</span><span class="o">;</span>
    <span class="n">Stack</span><span class="o">&lt;</span><span class="n">TreeNode</span><span class="o">&gt;</span> <span class="n">stk</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Stack</span><span class="o">&lt;</span><span class="n">TreeNode</span><span class="o">&gt;();</span>

    <span class="k">while</span> <span class="o">(</span><span class="n">cur</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">||</span> <span class="o">!</span><span class="n">stk</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">cur</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">stk</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">cur</span><span class="o">);</span>
            <span class="n">nodes</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">cur</span><span class="o">.</span><span class="na">val</span><span class="o">);</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="na">left</span><span class="o">;</span>
            <span class="k">continue</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="n">cur</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="na">right</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="k">return</span> <span class="n">nodes</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
<p>Here is the solution using Morris Traversal. It takes O(1) space.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="nf">preorderTraversal</span><span class="o">(</span><span class="n">TreeNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">nodes</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>

    <span class="n">TreeNode ...</span></pre></div>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/144-binary_tree_preorder_traversal.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/143-reorder_list.html">143-reorder_list</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-13T15:56:00-08:00"> Dec 13 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/linked-lists.html">Linked Lists</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/reorder-list/">LeetCode Problem Link</a></p>
<p>The O(n<sup>2</sup>) time solution would be too slow for OJ's large test case.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="kt">void</span> <span class="nf">reorderList</span><span class="o">(</span><span class="n">ListNode</span> <span class="n">head</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">head</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
        <span class="k">return</span><span class="o">;</span>

    <span class="n">ListNode</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">head</span><span class="o">;</span>

    <span class="k">while</span> <span class="o">(</span><span class="n">cur</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">ListNode</span> <span class="n">oldNext</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">oldNext</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">oldNext</span><span class="o">.</span><span class="na">next</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">ListNode</span> <span class="n">prevN</span> <span class="o">=</span> <span class="n">cur</span><span class="o">;</span>
            <span class="n">ListNode</span> <span class="n">curN</span> <span class="o">=</span> <span class="n">oldNext</span><span class="o">;</span>

            <span class="k">while</span> <span class="o">(</span><span class="n">curN</span><span class="o">.</span><span class="na">next</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">prevN</span> <span class="o">=</span> <span class="n">curN</span><span class="o">;</span>
                <span class="n">curN</span> <span class="o">=</span> <span class="n">curN</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
            <span class="o">}</span>

            <span class="c1">// curN is the current tail</span>
            <span class="n">prevN</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
            <span class="n">cur</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">curN</span><span class="o">;</span>
            <span class="n">curN</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="n">oldNext</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="n">cur</span> <span class="o">=</span> <span class="n">oldNext</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span>
</pre></div>
<p>The next idea is to use a Stack so the top element is always the current tail. The time complexity becomes O(n).
But this ...</p>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/143-reorder_list.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/142-linked_list_cycle_ii.html">142-linked_list_cycle_ii</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-13T15:38:00-08:00"> Dec 13 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/linked-list.html">Linked List</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/linked-list-cycle.html">Linked List Cycle</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/linked-list-cycle-ii/">LeetCode Problem Link</a></p>
<p>The implementation for this problem is not difficult. Once <tt class="docutils literal">fast</tt> catches up with <tt class="docutils literal">slow</tt>, at location <tt class="docutils literal">x</tt>.
We set <tt class="docutils literal">cur</tt> to the head of the list and then try to advance both <tt class="docutils literal">x</tt> and <tt class="docutils literal">cur</tt> at the same rate.
The location where <tt class="docutils literal">x</tt> meets with <tt class="docutils literal">cur</tt> is the start of the cycle.</p>
<p>We can show why this is the case with some modular arithmetic. Let's say it takes <tt class="docutils literal">x</tt> steps for <tt class="docutils literal">slow</tt> to
reach the start of the cycle at which point <tt class="docutils literal">fast</tt> has take <tt class="docutils literal">2x</tt> steps in total and has taken <tt class="docutils literal">x</tt> steps
since it ...</p>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/142-linked_list_cycle_ii.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/141-linked_list_cycle.html">141-linked_list_cycle</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-13T14:53:00-08:00"> Dec 13 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/linked-lists.html">Linked Lists</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/linked-list-cycle.html">Linked List Cycle</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/linked-list-cycle/">LeetCode Problem Link</a></p>
<p>Use two pointers, <tt class="docutils literal">fast</tt> and <tt class="docutils literal">slow</tt> both start at the head of the list. Make <tt class="docutils literal">fast</tt> take two steps
and <tt class="docutils literal">slow</tt> take one step in each iteration. If there's a cycle in the linked list. The <tt class="docutils literal">fast</tt> pointer
will eventually catch up with the <tt class="docutils literal">slow</tt> pointer.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">hasCycle</span><span class="o">(</span><span class="n">ListNode</span> <span class="n">head</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">head</span><span class="o">==</span><span class="kc">null</span><span class="o">)</span>
        <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>

    <span class="n">ListNode</span> <span class="n">fast</span> <span class="o">=</span> <span class="n">head</span><span class="o">;</span>
    <span class="n">ListNode</span> <span class="n">slow</span> <span class="o">=</span> <span class="n">head</span><span class="o">;</span>

    <span class="k">while</span> <span class="o">(</span><span class="n">slow</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">boolean</span> <span class="n">fastAdvancedTwice</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>

        <span class="n">slow</span> <span class="o">=</span> <span class="n">slow</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">fast</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
            <span class="n">fast</span> <span class="o">=</span> <span class="n">fast</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">fast</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">fast</span> <span class="o">=</span> <span class="n">fast</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>
            <span class="n">fastAdvancedTwice</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">fastAdvancedTwice</span> <span class="o">&amp;&amp;</span> <span class="n">fast</span> <span class="o">==</span> <span class="n">slow</span><span class="o">)</span>
            <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>

        <span class="k">if</span> <span class="o">(!</span><span class="n">fastAdvancedTwice</span><span class="o">)</span>
            <span class="k">break</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>

                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/141-linked_list_cycle.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/140-word_break_ii.html">140-word_break_ii</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-13T00:20:00-08:00"> Dec 13 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/string-partitions.html">String Partitions</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/word-break-ii/">LeetCode Problem Link</a></p>
<p>This problem is very similar to 132-palindrome_partitioning. After the 2D boolean array <tt class="docutils literal">inDict</tt> is filled in.
We just need to perform dfs on it to find all the partitions. This alone will be too slow when running
the big test case thought. So like in the previous problem we must fill in the 1D boolean array <tt class="docutils literal">canBreak</tt> as
well. And we only need to perform the dfs if <tt class="docutils literal">canBreak[0]</tt> is true. Otherwise, we know that there is simply
no way to partition the input string <tt class="docutils literal">s</tt> into words that are in the dictionary.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String ...</span></pre></div>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/140-word_break_ii.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/139-word_break.html">139-word_break</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-12T17:06:00-08:00"> Dec 12 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/string-partitions.html">String Partitions</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/word-break/">LeetCode Problem Link</a></p>
<p>131-palindrome_partitioning is actually a harder problem of this. Here we just need to check if each partition
is in the dictionary. I use a 2D boolean <tt class="docutils literal">dict</tt>. <tt class="docutils literal"><span class="pre">dict[i][j]</span></tt> is true if the substring s(i, j) is in the
dictionary. We need to the fill in the 2D array first. And then I create a 1D boolean array <tt class="docutils literal">canBreak</tt>.</p>
<p><tt class="docutils literal">canBrea[i]</tt> is true if the substring s(i, n-1) can be partitioned into groups where all group words are
in the dictionary. This array will be filled from right to left. And finally <tt class="docutils literal">canBreak[0 ...</tt></p>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/139-word_break.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/138-copy_list_with_random_pointer.html">138-copy_list_with_random_pointer</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-12T12:35:00-08:00"> Dec 12 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/linked-lists.html">Linked Lists</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/copy-list-with-random-pointer/">LeetCode Problem Link</a></p>
<p>For each node in the original list append a duplicated node.</p>
<p>Copy the random pointer as well.</p>
<p>This is the first pass.</p>
<p>In the second pass, we correct the random pointers for every other node on the list. Advance the random pointers by
one node. Notice how these random pointer point to the duplicated nodes now.</p>
<p>In the third pass, we separate the original nodes from the duplicated nodes.</p>
<p>Then we can simply return the head of the duplicated list.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="n">RandomListNode</span> <span class="nf">copyRandomList</span><span class="o">(</span><span class="n">RandomListNode</span> <span class="n">head</span><span class="o">)</span> <span class="o">{</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">head</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>

    <span class="n">RandomListNode</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">head</span><span class="o">;</span>
    <span class="n">RandomListNode</span> <span class="n">newListHead</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

    <span class="k">while ...</span></pre></div>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/138-copy_list_with_random_pointer.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/137-single_number_ii.html">137-single_number_ii</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-11T21:01:00-08:00"> Dec 11 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/bit-manipulation.html">Bit Manipulation</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/single-number.html">Single Number</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/single-number-ii/">LeetCode Problem Link</a></p>
<p>We can use an int array to store the 32 bits.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="kt">int</span> <span class="nf">singleNumber</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>
   <span class="kt">int</span><span class="o">[]</span> <span class="n">bits</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">32</span><span class="o">];</span>
   <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

   <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">nums</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
       <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">shift</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">shift</span><span class="o">&lt;</span><span class="mi">32</span><span class="o">;</span> <span class="n">shift</span><span class="o">++)</span> <span class="o">{</span>
           <span class="n">bits</span><span class="o">[</span><span class="n">shift</span><span class="o">]</span> <span class="o">+=</span> <span class="o">(</span><span class="n">nums</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">&gt;&gt;</span> <span class="n">shift</span><span class="o">)</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="o">;</span>
           <span class="k">if</span> <span class="o">(</span><span class="n">bits</span><span class="o">[</span><span class="n">shift</span><span class="o">]</span> <span class="o">==</span> <span class="mi">3</span><span class="o">)</span>
               <span class="n">bits</span><span class="o">[</span><span class="n">shift</span><span class="o">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
       <span class="o">}</span>
   <span class="o">}</span>

   <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">shift</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">shift</span><span class="o">&lt;</span><span class="mi">32</span><span class="o">;</span> <span class="n">shift</span><span class="o">++)</span> <span class="o">{</span>
       <span class="n">result</span> <span class="o">=</span> <span class="n">result</span> <span class="o">|</span> <span class="o">(</span><span class="n">bits</span><span class="o">[</span><span class="n">shift</span><span class="o">]</span> <span class="o">&lt;&lt;</span> <span class="n">shift</span><span class="o">);</span>
   <span class="o">}</span>

   <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
<p>This solution uses extra memory though. The following the solution that uses 3 int variables.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="kt">int</span> <span class="nf">singleNumber</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">nums</span><span class="o">)</span> <span class="o">{</span>

    <span class="kt">int</span> <span class="n">ones</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">twos</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">threes</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0 ...</span></pre></div>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/137-single_number_ii.html">more ...</a>
                </div>
            </article>
            <hr/>

        <ul class="pagination">
                <li class="prev"><a href="http://peter14f.github.io/pelican-blog/index19.html">&laquo;</a>
                </li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index.html">1</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index2.html">2</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index3.html">3</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index4.html">4</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index5.html">5</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index6.html">6</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index7.html">7</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index8.html">8</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index9.html">9</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index10.html">10</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index11.html">11</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index12.html">12</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index13.html">13</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index14.html">14</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index15.html">15</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index16.html">16</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index17.html">17</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index18.html">18</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index19.html">19</a></li>
                    <li class="active"><a
                            href="http://peter14f.github.io/pelican-blog/index20.html">20</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index21.html">21</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index22.html">22</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index23.html">23</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index24.html">24</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index25.html">25</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index26.html">26</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index27.html">27</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index28.html">28</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index29.html">29</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index30.html">30</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index31.html">31</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index32.html">32</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index33.html">33</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index34.html">34</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index35.html">35</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index36.html">36</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/index37.html">37</a></li>
                <li class="next"><a
                        href="http://peter14f.github.io/pelican-blog/index21.html">&raquo;</a></li>
        </ul>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 Peter Hsieh
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://peter14f.github.io/pelican-blog/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/respond.min.js"></script>


</body>
</html>