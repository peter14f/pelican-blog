<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Articles by Peter Hsieh - Peter's Coding Notes</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">




        <meta name="author" content="Peter Hsieh" />

    <!-- Open Graph tags -->
        <meta property="og:site_name" content="Peter's Coding Notes" />
        <meta property="og:type" content="website"/>
        <meta property="og:title" content="Peter's Coding Notes"/>
        <meta property="og:url" content="http://peter14f.github.io/pelican-blog"/>
        <meta property="og:description" content="Peter's Coding Notes"/>


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://peter14f.github.io/pelican-blog/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://peter14f.github.io/pelican-blog/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/style.css" type="text/css"/>

        <link href="http://peter14f.github.io/pelican-blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes ATOM Feed"/>




</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://peter14f.github.io/pelican-blog/" class="navbar-brand">
Peter's Coding Notes            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li >
                            <a href="http://peter14f.github.io/pelican-blog/category/leetcode.html">Leetcode</a>
                        </li>
                        <li >
                            <a href="http://peter14f.github.io/pelican-blog/category/misc.html">Misc</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://peter14f.github.io/pelican-blog/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-lg-12">
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/150-evaluate_reverse_polish_notation.html">150-evaluate_reverse_polish_notation</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-28T20:15:00-08:00"> Dec 28 2015</time>
    </span>





    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/evaluate-reverse-polish-notation/">LeetCode Problem Link</a></p>
<p>The pattern is clear. When you see an operator, the first popped element is the second operand and the
second popped element is the first operand. Once the operation is performed, the result needs to be pushed
back onto the stack. When you see a non operator, simply push the integer on the stack.</p>
<div class="highlight"><pre><span class="kd">private</span> <span class="kt">int</span> <span class="nf">isOperator</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">!=</span> <span class="mi">1</span><span class="o">)</span>
        <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>

    <span class="kt">char</span> <span class="n">op</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">()[</span><span class="mi">0</span><span class="o">];</span>
    <span class="kt">int</span> <span class="n">operator</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="k">switch</span><span class="o">(</span><span class="n">op</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">case</span> <span class="sc">&#39;+&#39;</span><span class="o">:</span>
            <span class="n">operator</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
            <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="sc">&#39;-&#39;</span><span class="o">:</span>
            <span class="n">operator</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
            <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="sc">&#39;*&#39;</span><span class="o">:</span>
            <span class="n">operator</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
            <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="sc">&#39;/&#39;</span><span class="o">:</span>
            <span class="n">operator</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>
            <span class="k">break</span><span class="o">;</span>
        <span class="k">default</span><span class="o">:</span>
            <span class="n">operator</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="k">return</span> <span class="n">operator</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public ...</span></pre></div>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/150-evaluate_reverse_polish_notation.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/149-max_points_on_a_line.html">149-max_points_on_a_line</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-28T19:19:00-08:00"> Dec 28 2015</time>
    </span>





    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/max-points-on-a-line/">LeetCode Problem Link</a></p>
<p>The outer loop choose each point as the base point. For each base point, we will keep track how many
duplicated points there are and the number of the slopes that could be formed with other points in the list.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="kt">int</span> <span class="nf">maxPoints</span><span class="o">(</span><span class="n">Point</span><span class="o">[]</span> <span class="n">points</span><span class="o">)</span> <span class="o">{</span>

    <span class="k">if</span><span class="o">(</span><span class="n">points</span><span class="o">.</span><span class="na">length</span> <span class="o">==</span> <span class="mi">0</span><span class="o">||</span><span class="n">points</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span>
        <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>

    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">points</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>

    <span class="k">if</span><span class="o">(</span><span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="o">)</span>
        <span class="k">return</span> <span class="n">n</span><span class="o">;</span>

    <span class="c1">// the final max value, at least 2</span>
    <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>

    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
        <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">map</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;();</span>
        <span class="n">Point</span> <span class="n">base</span> <span class="o">=</span> <span class="n">points</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
        <span class="kt">int</span> <span class="n">dupCnt</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">j ...</span></pre></div>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/149-max_points_on_a_line.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/148-sort_list.html">148-sort_list</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-22T13:22:00-08:00"> Dec 22 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/sorting.html">Sorting</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/linked-lists.html">Linked Lists</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/merge-sort.html">Merge Sort</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/sort-list/">LeetCode Problem Link</a></p>
<p>If we do merge sort using recursion, the size of the call stack can is O(log n) in the worst case. So
this will actually not be constant space.</p>
<p>First I will show the recursive solution. By the time the <tt class="docutils literal">fast</tt> pointer reaches null, the <tt class="docutils literal">slow</tt> pointer
is at the middle. <tt class="docutils literal">prev</tt> is the previous node of <tt class="docutils literal">slow</tt>. If we set the next pointer of <tt class="docutils literal">prev</tt> to null, then
we have successfully divided the linked list into halves. <tt class="docutils literal">head</tt> is the first part of the list. <tt class="docutils literal">slow</tt> is the
second part of the list.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="n">ListNode ...</span></pre></div>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/148-sort_list.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/147-insertion_sort_list.html">147-insertion_sort_list</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-22T13:16:00-08:00"> Dec 22 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/sorting.html">Sorting</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/insertion-sort.html">Insertion Sort</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/insertion-sort-list/">LeetCode Problem Link</a></p>
<p>Insertion sort should take O(n) time only if the list is already sorted.</p>
<p>I find the easiest to implement this is maintain the head and tail pointers of the currently sorted list.</p>
<p>Inserting the node at the head or tail is easy and should only take constant time.
Use a helper method to do the implementation for inserting somewhere in the middle.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="n">ListNode</span> <span class="nf">insertionSortList</span><span class="o">(</span><span class="n">ListNode</span> <span class="n">head</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">head</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="n">ListNode</span> <span class="n">sortedHead</span> <span class="o">=</span> <span class="n">head</span><span class="o">;</span>
    <span class="n">ListNode</span> <span class="n">sortedTail</span> <span class="o">=</span> <span class="n">head</span><span class="o">;</span>

    <span class="n">ListNode</span> <span class="n">node</span> <span class="o">=</span> <span class="n">head</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>

    <span class="n">sortedTail</span><span class="o">.</span><span class="na">next</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

    <span class="k">while</span> <span class="o">(</span><span class="n">node</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">ListNode</span> <span class="n">origNext</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="na">next</span><span class="o">;</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">node</span><span class="o">.</span><span class="na">val</span> <span class="o">&lt;=</span> <span class="n">sortedHead ...</span></pre></div>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/147-insertion_sort_list.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/146-lru_cache.html">146-lru_cache</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-16T19:28:00-08:00"> Dec 16 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/lru.html">LRU</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/doubly-linked-lists.html">Doubly Linked Lists</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/lru-cache/">LeetCode Problem Link</a></p>
<p>LRU itself can be implemented with a doubly linked list. For constant time <tt class="docutils literal">get()</tt> and <tt class="docutils literal">set()</tt> operation,
we must use a hashtable. The data being accessed is moved to the head. The head is the most recently accessed data.
The tail is the last recently accessed data. When evicting an old data, remove the data at the tail node.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">LRUCache</span> <span class="o">{</span>
    <span class="kd">class</span> <span class="nc">ListNode</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">val</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">key</span><span class="o">;</span>
        <span class="n">ListNode</span> <span class="n">next</span><span class="o">;</span>
        <span class="n">ListNode</span> <span class="n">prev</span><span class="o">;</span>

        <span class="kd">public</span> <span class="nf">ListNode</span><span class="o">(</span><span class="kt">int</span> <span class="n">key</span><span class="o">,</span> <span class="kt">int</span> <span class="n">val</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">key</span> <span class="o">=</span> <span class="n">key</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="na">val</span> <span class="o">=</span> <span class="n">val</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="n">capacity</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">ListNode</span> <span class="n">head</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">ListNode</span> <span class="n">tail</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">ListNode ...</span></pre></div>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/146-lru_cache.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/binary_tree_traversals.html">binary_tree_traversals</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-15T17:05:00-08:00"> Dec 15 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/binary-tree-traversals.html">Binary Tree Traversals</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/binary-trees.html">Binary Trees</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p>Here I will list the iterative ways to do binary tree traversals. Inorder and preorder traversals are more
striaghtforward whereas postorder traversal is a little more tricky.</p>
<p>Preorder traversal -</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="nf">preorder</span><span class="o">(</span><span class="n">TreeNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">nodes</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>

    <span class="n">TreeNode</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">root</span><span class="o">;</span>
    <span class="n">Stack</span><span class="o">&lt;</span><span class="n">TreeNode</span><span class="o">&gt;</span> <span class="n">stk</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Stack</span><span class="o">&lt;</span><span class="n">TreeNode</span><span class="o">&gt;();</span>

    <span class="k">while</span> <span class="o">(</span><span class="n">cur</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">||</span> <span class="o">!</span><span class="n">stk</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">cur</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">nodes</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">cur</span><span class="o">.</span><span class="na">val</span><span class="o">);</span>
            <span class="n">stk</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">cur</span><span class="o">);</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="na">left</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">else</span> <span class="o">{</span>
            <span class="n">TreeNode</span> <span class="n">top</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>

            <span class="k">if</span> <span class="o">(</span><span class="n">top</span><span class="o">.</span><span class="na">right</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">cur</span> <span class="o">=</span> <span class="n">top</span><span class="o">.</span><span class="na">right</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="c1">// else cur remains null</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="k">return</span> <span class="n">nodes</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
<p>Inorder traversal -</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="nf">inorder</span><span class="o">(</span><span class="n">TreeNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">nodes</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer ...</span></pre></div>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/binary_tree_traversals.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/145-binary_tree_postorder_traversal.html">145-binary_tree_postorder_traversal</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-14T20:57:00-08:00"> Dec 14 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/binary-trees.html">Binary Trees</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/binary-tree-traversals.html">Binary Tree Traversals</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/postorder-traversal.html">Postorder Traversal</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/binary-tree-postorder-traversal/">LeetCode Problem Link</a></p>
<p>This is the hardest iterative traversal using a stack.</p>
<p>The check <tt class="docutils literal"><span class="pre">top.right!=null</span> &amp;&amp; prev == top.left</tt> won't work because <tt class="docutils literal">top</tt> node may not have a left child.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="nf">postorderTraversal</span><span class="o">(</span><span class="n">TreeNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">nodes</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>

    <span class="n">Stack</span><span class="o">&lt;</span><span class="n">TreeNode</span><span class="o">&gt;</span> <span class="n">stk</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Stack</span><span class="o">&lt;</span><span class="n">TreeNode</span><span class="o">&gt;();</span>
    <span class="n">TreeNode</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">root</span><span class="o">;</span>
    <span class="n">TreeNode</span> <span class="n">prev</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

    <span class="k">while</span> <span class="o">(</span><span class="n">cur</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">||</span> <span class="o">!</span><span class="n">stk</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">cur</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">stk</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">cur</span><span class="o">);</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="na">left</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="k">else</span> <span class="o">{</span>
            <span class="n">TreeNode</span> <span class="n">top</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="na">peek</span><span class="o">();</span>

            <span class="k">if</span> <span class="o">(</span><span class="n">top</span><span class="o">.</span><span class="na">right</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">prev</span> <span class="o">!=</span> <span class="n">top</span><span class="o">.</span><span class="na">right</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">cur</span> <span class="o">=</span> <span class="n">top</span><span class="o">.</span><span class="na">right</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="k">else</span>
            <span class="o">{</span>
                <span class="n">stk</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
                <span class="n">nodes</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">top</span><span class="o">.</span><span class="na">val</span><span class="o">);</span>
                <span class="n">prev</span> <span class="o">=</span> <span class="n">top</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>

    <span class="o">}</span>

    <span class="k">return</span> <span class="n">nodes</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>

                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/145-binary_tree_postorder_traversal.html">more ...</a>
                </div>
            </article>
            <hr/>
            <article>
                <h2 class="article-title"><a href="http://peter14f.github.io/pelican-blog/144-binary_tree_preorder_traversal.html">144-binary_tree_preorder_traversal</a></h2>
                    <div>
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2015-12-14T19:48:00-08:00"> Dec 14 2015</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/binary-trees.html">Binary Trees</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/binary-tree-traversals.html">Binary Tree Traversals</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/preorder-traversal.html">Preorder Traversal</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/morris-traversal.html">Morris Traversal</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary article-summary"><p><a class="reference external" href="https://leetcode.com/problems/binary-tree-preorder-traversal/">LeetCode Problem Link</a></p>
<p>Here is the solution using a Stack. It is O(n) space complexity. In the worst case, the binary tree is a linked list.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="nf">preorderTraversal</span><span class="o">(</span><span class="n">TreeNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">nodes</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>

    <span class="n">TreeNode</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">root</span><span class="o">;</span>
    <span class="n">Stack</span><span class="o">&lt;</span><span class="n">TreeNode</span><span class="o">&gt;</span> <span class="n">stk</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Stack</span><span class="o">&lt;</span><span class="n">TreeNode</span><span class="o">&gt;();</span>

    <span class="k">while</span> <span class="o">(</span><span class="n">cur</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">||</span> <span class="o">!</span><span class="n">stk</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">())</span> <span class="o">{</span>

        <span class="k">if</span> <span class="o">(</span><span class="n">cur</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">stk</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">cur</span><span class="o">);</span>
            <span class="n">nodes</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">cur</span><span class="o">.</span><span class="na">val</span><span class="o">);</span>
            <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="na">left</span><span class="o">;</span>
            <span class="k">continue</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="n">cur</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
        <span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="na">right</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="k">return</span> <span class="n">nodes</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
<p>Here is the solution using Morris Traversal. It takes O(1) space.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="nf">preorderTraversal</span><span class="o">(</span><span class="n">TreeNode</span> <span class="n">root</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">nodes</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;();</span>

    <span class="n">TreeNode ...</span></pre></div>
                    <a class="btn btn-default btn-xs" href="http://peter14f.github.io/pelican-blog/144-binary_tree_preorder_traversal.html">more ...</a>
                </div>
            </article>
            <hr/>

        <ul class="pagination">
                <li class="prev"><a href="http://peter14f.github.io/pelican-blog/author/peter-hsieh9.html">&laquo;</a>
                </li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh.html">1</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh2.html">2</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh3.html">3</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh4.html">4</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh5.html">5</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh6.html">6</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh7.html">7</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh8.html">8</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh9.html">9</a></li>
                    <li class="active"><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh10.html">10</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh11.html">11</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh12.html">12</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh13.html">13</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh14.html">14</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh15.html">15</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh16.html">16</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh17.html">17</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh18.html">18</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh19.html">19</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh20.html">20</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh21.html">21</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh22.html">22</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh23.html">23</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh24.html">24</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh25.html">25</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh26.html">26</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh27.html">27</a></li>
                    <li class=""><a
                            href="http://peter14f.github.io/pelican-blog/author/peter-hsieh28.html">28</a></li>
                <li class="next"><a
                        href="http://peter14f.github.io/pelican-blog/author/peter-hsieh11.html">&raquo;</a></li>
        </ul>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 Peter Hsieh
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://peter14f.github.io/pelican-blog/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/respond.min.js"></script>


</body>
</html>