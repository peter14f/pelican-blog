<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>320-generalized_abbreviation - Peter's Coding Notes</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://peter14f.github.io/pelican-blog/320-generalized_abbreviation.html">

        <meta name="author" content="Peter Hsieh" />
        <meta name="keywords" content="DFS,Recursion" />
        <meta name="description" content="LeetCode Problem Link The list of generalized abbreviations for the word word is [&#34;word&#34;, &#34;1ord&#34;, &#34;w1rd&#34;, &#34;wo1d&#34;, &#34;wor1&#34;, &#34;2rd&#34;, &#34;w2d&#34;, &#34;wo2&#34;, &#34;1o1d&#34;, &#34;1or1&#34;, &#34;w1r1&#34;, &#34;1o2&#34;, &#34;2r1&#34;, &#34;3d&#34;, &#34;w3&#34;, &#34;4&#34;] So just by looking at the example, I am assuming an integer simply means the number of characters it represents. And it sure looks like you cannot have two integers next to each other. Notice that we have 1o1d but not 11rd. I think we can use recursion and DFS. My first attempt public List&lt;String&gt; generateAbbreviations(String word) { List&lt;String&gt; ans = new ArrayList&lt;String&gt;(); StringBuffer sb = new StringBuffer(word); findAllAbbreviations ..." />

        <meta property="og:site_name" content="Peter's Coding Notes" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="320-generalized_abbreviation"/>
        <meta property="og:url" content="http://peter14f.github.io/pelican-blog/320-generalized_abbreviation.html"/>
        <meta property="og:description" content="LeetCode Problem Link The list of generalized abbreviations for the word word is [&#34;word&#34;, &#34;1ord&#34;, &#34;w1rd&#34;, &#34;wo1d&#34;, &#34;wor1&#34;, &#34;2rd&#34;, &#34;w2d&#34;, &#34;wo2&#34;, &#34;1o1d&#34;, &#34;1or1&#34;, &#34;w1r1&#34;, &#34;1o2&#34;, &#34;2r1&#34;, &#34;3d&#34;, &#34;w3&#34;, &#34;4&#34;] So just by looking at the example, I am assuming an integer simply means the number of characters it represents. And it sure looks like you cannot have two integers next to each other. Notice that we have 1o1d but not 11rd. I think we can use recursion and DFS. My first attempt public List&lt;String&gt; generateAbbreviations(String word) { List&lt;String&gt; ans = new ArrayList&lt;String&gt;(); StringBuffer sb = new StringBuffer(word); findAllAbbreviations ..."/>
        <meta property="article:published_time" content="2016-02-27" />
            <meta property="article:section" content="LeetCode" />
            <meta property="article:tag" content="DFS" />
            <meta property="article:tag" content="Recursion" />
            <meta property="article:author" content="Peter Hsieh" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://peter14f.github.io/pelican-blog/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://peter14f.github.io/pelican-blog/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://peter14f.github.io/pelican-blog/theme/css/style.css" type="text/css"/>

        <link href="http://peter14f.github.io/pelican-blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes ATOM Feed"/>



        <link href="http://peter14f.github.io/pelican-blog/feeds/leetcode.atom.xml" type="application/atom+xml" rel="alternate"
              title="Peter's Coding Notes LeetCode ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://peter14f.github.io/pelican-blog/" class="navbar-brand">
Peter's Coding Notes            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li class="active">
                            <a href="http://peter14f.github.io/pelican-blog/category/leetcode.html">Leetcode</a>
                        </li>
                        <li >
                            <a href="http://peter14f.github.io/pelican-blog/category/misc.html">Misc</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://peter14f.github.io/pelican-blog/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-lg-12">
    <section id="content">
        <article>
                <h2>
                    <a href="http://peter14f.github.io/pelican-blog/320-generalized_abbreviation.html"
                       rel="bookmark"
                       title="Permalink to 320-generalized_abbreviation">
                        320-generalized_abbreviation
                    </a>
                </h2>
            <div class="entry-content">
<footer class="post-info">
    <span class="published label label-default">
        <time datetime="2016-02-27T13:30:00-08:00"> Feb 27 2016</time>
    </span>





<span class="label label-default tag-lists">Tags</span>
	<a href="http://peter14f.github.io/pelican-blog/tag/dfs.html">DFS</a>
        /
	<a href="http://peter14f.github.io/pelican-blog/tag/recursion.html">Recursion</a>
    
</footer><!-- /.post-info -->                <div class="full-article">
                <p><a class="reference external" href="https://leetcode.com/problems/generalized-abbreviation/">LeetCode Problem Link</a></p>
<p>The list of generalized abbreviations for the word <tt class="docutils literal">word</tt> is</p>
<pre class="literal-block">
[&quot;word&quot;, &quot;1ord&quot;, &quot;w1rd&quot;, &quot;wo1d&quot;, &quot;wor1&quot;, &quot;2rd&quot;, &quot;w2d&quot;, &quot;wo2&quot;, &quot;1o1d&quot;, &quot;1or1&quot;, &quot;w1r1&quot;, &quot;1o2&quot;, &quot;2r1&quot;, &quot;3d&quot;, &quot;w3&quot;, &quot;4&quot;]
</pre>
<p>So just by looking at the example, I am assuming an integer simply means the number of characters it represents.</p>
<p>And it sure looks like you cannot have two integers next to each other. Notice that we have <tt class="docutils literal">1o1d</tt> but not <tt class="docutils literal">11rd</tt>.</p>
<p>I think we can use recursion and DFS.</p>
<p>My first attempt</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">generateAbbreviations</span><span class="o">(</span><span class="n">String</span> <span class="n">word</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">ans</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>

    <span class="n">StringBuffer</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">(</span><span class="n">word</span><span class="o">);</span>

    <span class="n">findAllAbbreviations</span><span class="o">(</span><span class="n">sb</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">ans</span><span class="o">);</span>

    <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">private</span> <span class="kt">void</span> <span class="nf">findAllAbbreviations</span><span class="o">(</span><span class="n">StringBuffer</span> <span class="n">sb</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">ans</span><span class="o">)</span> <span class="o">{</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">i</span><span class="o">&gt;=</span><span class="n">sb</span><span class="o">.</span><span class="na">length</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">ans</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">sb</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="k">return</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// when arriving at a new letter we have two choices</span>
    <span class="c1">// choice 1: do not replace the current letter</span>
    <span class="n">findAllAbbreviations</span><span class="o">(</span><span class="n">sb</span><span class="o">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span> <span class="n">ans</span><span class="o">);</span>



    <span class="c1">// choice 2: replace the current letter</span>
    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">sb</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>


    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">num</span><span class="o">=</span><span class="n">n</span><span class="o">-</span><span class="n">i</span><span class="o">;</span> <span class="n">num</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">;</span> <span class="n">num</span><span class="o">--)</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">before</span> <span class="o">=</span> <span class="n">sb</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">i</span><span class="o">+</span><span class="n">num</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>
        <span class="kt">char</span> <span class="n">replaced</span> <span class="o">=</span> <span class="n">sb</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">+</span><span class="n">num</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>

        <span class="n">sb</span><span class="o">.</span><span class="na">setCharAt</span><span class="o">(</span><span class="n">i</span><span class="o">+</span><span class="n">num</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="o">(</span><span class="kt">char</span><span class="o">)(</span><span class="sc">&#39;0&#39;</span> <span class="o">+</span> <span class="n">num</span><span class="o">));</span>
        <span class="n">sb</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">i</span><span class="o">+</span><span class="n">num</span><span class="o">-</span><span class="mi">1</span><span class="o">);</span>

        <span class="c1">//System.out.println(&quot;a=&quot; + sb.toString());</span>

        <span class="n">findAllAbbreviations</span><span class="o">(</span><span class="n">sb</span><span class="o">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="o">,</span> <span class="n">ans</span><span class="o">);</span>

        <span class="n">sb</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">before</span><span class="o">);</span>
        <span class="n">sb</span><span class="o">.</span><span class="na">setCharAt</span><span class="o">(</span><span class="n">i</span><span class="o">+</span><span class="n">num</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span> <span class="n">replaced</span><span class="o">);</span>

        <span class="c1">//System.out.println(&quot;b=&quot; + sb.toString());</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
<p>This works for strings of size &lt; 10.</p>
<div class="highlight"><pre><span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">generateAbbreviations</span><span class="o">(</span><span class="n">String</span> <span class="n">word</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">ans</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>

    <span class="n">StringBuffer</span> <span class="n">sb</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">(</span><span class="n">word</span><span class="o">);</span>

    <span class="n">findAllAbbreviations</span><span class="o">(</span><span class="n">sb</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="n">ans</span><span class="o">);</span>

    <span class="k">return</span> <span class="n">ans</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">private</span> <span class="kt">void</span> <span class="nf">findAllAbbreviations</span><span class="o">(</span><span class="n">StringBuffer</span> <span class="n">sb</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">ans</span><span class="o">)</span> <span class="o">{</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">i</span><span class="o">&gt;=</span><span class="n">sb</span><span class="o">.</span><span class="na">length</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">ans</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">sb</span><span class="o">.</span><span class="na">toString</span><span class="o">());</span>
        <span class="k">return</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// when arriving at a new letter we have two choices</span>
    <span class="c1">// choice 1: do not replace the current letter</span>
    <span class="n">findAllAbbreviations</span><span class="o">(</span><span class="n">sb</span><span class="o">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span> <span class="n">ans</span><span class="o">);</span>



    <span class="c1">// choice 2: replace the current letter</span>
    <span class="kt">int</span> <span class="n">n</span> <span class="o">=</span> <span class="n">sb</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>


    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">num</span><span class="o">=</span><span class="n">n</span><span class="o">-</span><span class="n">i</span><span class="o">;</span> <span class="n">num</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">;</span> <span class="n">num</span><span class="o">--)</span> <span class="o">{</span>

        <span class="n">String</span> <span class="n">s</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">num</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">numLen</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">();</span>

        <span class="n">String</span> <span class="n">before</span> <span class="o">=</span> <span class="n">sb</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">i</span><span class="o">+</span><span class="n">num</span><span class="o">-</span><span class="n">numLen</span><span class="o">);</span>
        <span class="n">String</span> <span class="n">replaced</span> <span class="o">=</span> <span class="n">sb</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="n">i</span><span class="o">+</span><span class="n">num</span><span class="o">-</span><span class="n">numLen</span><span class="o">,</span> <span class="n">i</span><span class="o">+</span><span class="n">num</span><span class="o">);</span>

        <span class="n">sb</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="n">i</span><span class="o">+</span><span class="n">num</span><span class="o">-</span><span class="n">numLen</span><span class="o">,</span> <span class="n">i</span><span class="o">+</span><span class="n">num</span><span class="o">,</span> <span class="n">s</span><span class="o">);</span>
        <span class="n">sb</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">i</span><span class="o">+</span><span class="n">num</span><span class="o">-</span><span class="n">numLen</span><span class="o">);</span>

        <span class="c1">//System.out.println(&quot;a=&quot; + sb.toString());</span>

        <span class="n">findAllAbbreviations</span><span class="o">(</span><span class="n">sb</span><span class="o">,</span> <span class="n">i</span><span class="o">+</span><span class="n">numLen</span><span class="o">+</span><span class="mi">1</span><span class="o">,</span> <span class="n">ans</span><span class="o">);</span>

        <span class="n">sb</span><span class="o">.</span><span class="na">insert</span><span class="o">(</span><span class="n">i</span><span class="o">,</span> <span class="n">before</span><span class="o">);</span>
        <span class="n">sb</span><span class="o">.</span><span class="na">replace</span><span class="o">(</span><span class="n">i</span><span class="o">+</span><span class="n">num</span><span class="o">-</span><span class="n">numLen</span><span class="o">,</span> <span class="n">i</span><span class="o">+</span><span class="n">num</span><span class="o">,</span> <span class="n">replaced</span><span class="o">);</span>

        <span class="c1">//System.out.println(&quot;b=&quot; + sb.toString());</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

                </div>
            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 Peter Hsieh
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://peter14f.github.io/pelican-blog/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://peter14f.github.io/pelican-blog/theme/js/respond.min.js"></script>


</body>
</html>